function EventEmitter(){this.events={}}function Model(){EventEmitter.call(this),this._milliseconds=0,this._seconds=0,this._minutes=0,this._hours=0,this._date=0,this._day=0,this._month=0,this._year=0}function Arc(t,e,i,n){this.outerRadius=t,this.arcWidth=e,this.innerRadius=this.outerRadius-this.arcWidth,this.arcStartInDegree=0,this._color=i,this.cornerSize=3,this.ctx=n}function View(t){EventEmitter.call(this),this._model=t,this.ctx=$("#canvas")[0].getContext("2d"),this._elements=["hour","minute","second","millisecond"],this._getElements(),this._init(),this._bindActions()}function Controller(t,e){this._view=t,this._model=e,this._bindActions()}EventEmitter.prototype.on=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},EventEmitter.prototype.off=function(t,e){if(this.events[t]){var i=this.events[t].indexOf(e);i>-1&&this.events[t].splice(i,1)}},EventEmitter.prototype.emit=function(t,e){this.events[t]&&this.events[t].forEach(function(t){t(e)})},Model.prototype=Object.create(EventEmitter.prototype),Model.prototype.constructor=Model,Model.prototype.start=function(){this.init(),this._tic()},Model.prototype.init=function(){this._setMillisecond(),this._setSecond(),this._setMinute(),this._setHour(),this._setDate(),this._setDay(),this._setMonth(),this._setYear()},Model.prototype._tic=function(){this.emit("tic"),this._setMillisecond(),this._setSecond(),this._setMinute(),this._setHour(),this._setDate(),this._setDay(),this._setMonth(),window.requestAnimationFrame(this._tic.bind(this))},Model.prototype._getMillisecond=function(){return this._milliseconds},Model.prototype._getSecond=function(){return this._seconds},Model.prototype._getMinute=function(){return this._minutes},Model.prototype._getHour=function(){return this._hours},Model.prototype._getDate=function(){return this._date},Model.prototype._getDay=function(){return this._day},Model.prototype._getMonth=function(){return this._month},Model.prototype._getYear=function(){return this._year},Model.prototype.getSecondInMls=function(){var t=this._seconds,e=this._milliseconds,i=1e3*t+e;return i},Model.prototype.getMinuteInMls=function(){var t=this.getSecondInMls(),e=this._minutes,i=60*e*1e3+t;return i},Model.prototype.getMinuteInS=function(){var t=this._seconds,e=this._minutes,i=60*e+t;return i},Model.prototype.getHourInS=function(){var t=this.getMinuteInS(),e=this._hours,i=60*e*60+t;return i},Model.prototype.getHourInMin=function(){var t=this._minutes,e=this._hours,i=60*e+t;return i},Model.prototype.getDateInMin=function(){var t=this.getHourInMin(),e=this._date,i=24*(e-1)*60+t;return i},Model.prototype.getDayInMin=function(){var t=this.getHourInMin(),e=this._day,i=24*(e>0?e-=1:jour=6)*60+t;return i},Model.prototype.getSecondInDegree=function(){var t=this.getSecondInMls(),e=.006*t;return e},Model.prototype.getMinuteInDegree=function(){var t=this.getMinuteInMls(),e=1e-4*t;return e},Model.prototype.getHourInDegree=function(){var t=this.getHourInS(),e=t*(360/86400);return e},Model.prototype.getDaysMaxInMonth=function(t,e){return new Date(t,e+1,0).getDate()},Model.prototype.getDateInDegree=function(){var t=this.getDateInMin(),e=this.getDaysMaxInMonth(this._getYear(),this._getMonth()),i=t*(360/(24*e*60));return i},Model.prototype._setMillisecond=function(){var t=new Date;this._milliseconds=t.getMilliseconds(),this.emit("msChange")},Model.prototype._setSecond=function(){var t=new Date;this._seconds=t.getSeconds(),this.emit("sChange")},Model.prototype._setMinute=function(){var t=new Date;this._minutes=t.getMinutes(),this.emit("mChange")},Model.prototype._setHour=function(){var t=new Date;this._hours=t.getHours(),this.emit("hChange")},Model.prototype._setDate=function(){var t=new Date;this._date=t.getDate(),this.emit("dateChange")},Model.prototype._setDay=function(){var t=new Date;this._day=t.getDay(),this.emit("dayChange")},Model.prototype._setMonth=function(){var t=new Date;this._month=t.getMonth(),this.emit("monthChange")},Model.prototype._setYear=function(){var t=new Date;this._year=t.getFullYear(),this.emit("yearChange")},Arc.prototype.drawArc=function(t){this.arcEndInDegree=t,this.outerCornerX=(this.outerRadius-this.cornerSize)*Math.cos(this.arcEndInDegree*(Math.PI/180)),this.outerCornerY=(this.outerRadius-this.cornerSize)*Math.sin(this.arcEndInDegree*(Math.PI/180)),this.innerCornerX=(this.innerRadius+this.cornerSize)*Math.cos(this.arcEndInDegree*(Math.PI/180)),this.innerCornerY=(this.innerRadius+this.cornerSize)*Math.sin(this.arcEndInDegree*(Math.PI/180)),this.outerCornerArcStart=(0+this.arcEndInDegree)*(Math.PI/180),this.outerCornerArcEnd=(90+this.arcEndInDegree)*(Math.PI/180),this.innerCornerArcStart=(90+this.arcEndInDegree)*(Math.PI/180),this.innerCornerArcEnd=(180+this.arcEndInDegree)*(Math.PI/180),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.innerRadius+this.cornerSize,0,this.cornerSize,180*(Math.PI/180),270*(Math.PI/180),!1),this.ctx.arc(this.outerRadius-this.cornerSize,0,this.cornerSize,270*(Math.PI/180),0*(Math.PI/180),!1),this.ctx.arc(0,0,this.outerRadius,this.arcStartInDegree*(Math.PI/180),this.arcEndInDegree*(Math.PI/180),!1),this.ctx.arc(this.outerCornerX,this.outerCornerY,this.cornerSize,this.outerCornerArcStart,this.outerCornerArcEnd,!1),this.ctx.arc(this.innerCornerX,this.innerCornerY,this.cornerSize,this.innerCornerArcStart,this.innerCornerArcEnd,!1),this.ctx.arc(0,0,this.innerRadius,this.arcEndInDegree*(Math.PI/180),this.arcStartInDegree*(Math.PI/180),!0),this.ctx.closePath(),this.ctx.fillStyle=this._color,this.ctx.fill(),this.ctx.restore()},View.prototype=Object.create(EventEmitter.prototype),View.prototype.constructor=View,View.prototype._init=function(){this._redraw()},View.prototype._getElements=function(){this._elements.forEach(function(t){this["_"+t]=document.getElementById(t)},this)},View.prototype._bindActions=function(){this._model.on("sChange",this._drawSecond.bind(this)),this._model.on("mChange",this._drawMinute.bind(this)),this._model.on("hChange",this._drawHour.bind(this)),this._model.on("tic",this.canvasRefresh.bind(this)),this._model.on("sChange",this._drawSecondArc.bind(this)),this._model.on("mChange",this._drawMinuteArc.bind(this)),this._model.on("hChange",this._drawHourArc.bind(this)),this._model.on("dateChange",this._drawDateArc.bind(this))},View.prototype._redraw=function(){this._drawSecond(),this._drawMinute(),this._drawHour(),this._secondArc=new Arc(240,25,"red",this.ctx),this._minuteArc=new Arc(210,25,"orange",this.ctx),this._hourArc=new Arc(180,25,"gold",this.ctx),this._dateArc=new Arc(150,25,"purple",this.ctx),this.canvasRefresh(),this._drawSecondArc(),this._drawMinuteArc(),this._drawHourArc(),this._drawDateArc()},View.prototype.canvasRefresh=function(){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,canvas.width,canvas.height),this.ctx.translate(250,250),this.ctx.rotate(-90*Math.PI/180)},View.prototype._drawSecondArc=function(){var t=this._model.getSecondInDegree();this._secondArc.drawArc(t)},View.prototype._drawMinuteArc=function(){var t=this._model.getMinuteInDegree();this._minuteArc.drawArc(t)},View.prototype._drawHourArc=function(){var t=this._model.getHourInDegree();this._hourArc.drawArc(t)},View.prototype._drawDateArc=function(){var t=this._model.getDateInDegree();this._dateArc.drawArc(t)},View.prototype._drawDiv=function(t,e,i){var n=$("<div>").css("height","14px").css("width",t+"%").css("background-color",e).css("margin","1px 0px").text(i).css("text-align","right").css("color","white").css("font-family","arial").css("padding-right","2px").css({overflow:"hidden","white-space":"nowrap"});return n},View.prototype._drawSecond=function(){var t=this._model.getSecondInMls();$("#drawS").empty();var e;e=t*(100/6e4);var i=this._drawDiv(e,"red",this._model._getSecond()+" s");$("#drawS").append(i)},View.prototype._drawMinute=function(){var t=this._model.getMinuteInMls();$("#drawM").empty();var e;e=t*(100/36e5);var i=this._drawDiv(e,"orange",this._model._getMinute()+" min");$("#drawM").append(i)},View.prototype._drawHour=function(){var t=this._model.getHourInS();$("#drawH").empty();var e;e=t*(100/86400);var i=this._drawDiv(e,"gold",this._model._getHour()+" h");$("#drawH").append(i)},View.prototype._drawMillisecondInTxt=function(){var t=this._model.getMillisecond();this._millisecond.innerHTML=t},View.prototype._drawSecondInTxt=function(){var t=this._model.getSecond();this._second.innerHTML=t},View.prototype._drawMinuteInTxt=function(){var t=this._model.getMinute();this._minute.innerHTML=10>t?"0"+t:t},View.prototype._drawHourInTxt=function(){var t=this._model.getHour();this._hour.innerHTML=10>t?"0"+t:t},Controller.prototype._bindActions=function(){};var model=new Model,view=new View(model),controller=new Controller(view,model);model.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50RW1pdHRlci5qcyIsIm1vZGVsLmpzIiwiYXJjLmpzIiwidmlldy5qcyIsImNvbnRyb2xsZXIuanMiLCJhcHAuanMiXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwidGhpcyIsImV2ZW50cyIsIk1vZGVsIiwiY2FsbCIsIl9taWxsaXNlY29uZHMiLCJfc2Vjb25kcyIsIl9taW51dGVzIiwiX2hvdXJzIiwiX2RhdGUiLCJfZGF5IiwiX21vbnRoIiwiX3llYXIiLCJBcmMiLCJvdXRlclJhZGl1cyIsImFyY1dpZHRoIiwiY29sb3IiLCJfY3R4IiwiaW5uZXJSYWRpdXMiLCJhcmNTdGFydEluRGVncmVlIiwiX2NvbG9yIiwiY29ybmVyU2l6ZSIsImN0eCIsIlZpZXciLCJtb2RlbCIsIl9tb2RlbCIsIiQiLCJnZXRDb250ZXh0IiwiX2VsZW1lbnRzIiwiX2dldEVsZW1lbnRzIiwiX2luaXQiLCJfYmluZEFjdGlvbnMiLCJDb250cm9sbGVyIiwidmlldyIsIl92aWV3IiwicHJvdG90eXBlIiwib24iLCJldmVudE5hbWUiLCJmbiIsInB1c2giLCJvZmYiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJlbWl0IiwiZGF0YSIsImZvckVhY2giLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInN0YXJ0IiwiaW5pdCIsIl90aWMiLCJfc2V0TWlsbGlzZWNvbmQiLCJfc2V0U2Vjb25kIiwiX3NldE1pbnV0ZSIsIl9zZXRIb3VyIiwiX3NldERhdGUiLCJfc2V0RGF5IiwiX3NldE1vbnRoIiwiX3NldFllYXIiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwiX2dldE1pbGxpc2Vjb25kIiwiX2dldFNlY29uZCIsIl9nZXRNaW51dGUiLCJfZ2V0SG91ciIsIl9nZXREYXRlIiwiX2dldERheSIsIl9nZXRNb250aCIsIl9nZXRZZWFyIiwiZ2V0U2Vjb25kSW5NbHMiLCJhY3R1YWxTIiwiYWN0dWFsTWxzIiwic0luTWxzIiwiZ2V0TWludXRlSW5NbHMiLCJhY3R1YWxNIiwibUluTWxzIiwiZ2V0TWludXRlSW5TIiwibUluUyIsImdldEhvdXJJblMiLCJhY3R1YWxIIiwiaEluUyIsImdldEhvdXJJbk1pbiIsImFjdHVhbE1pbiIsImhJbk1pbiIsImdldERhdGVJbk1pbiIsImFjdHVhbERhdGUiLCJkYXRlSW5NaW4iLCJnZXREYXlJbk1pbiIsImFjdHVhbERheSIsImRheUluTWluIiwiam91ciIsImdldFNlY29uZEluRGVncmVlIiwic2Vjb25kSW5EZWdyZWUiLCJnZXRNaW51dGVJbkRlZ3JlZSIsIm1pbnV0ZUluRGVncmVlIiwiZ2V0SG91ckluRGVncmVlIiwiaG91ckluRGVncmVlIiwiZ2V0RGF5c01heEluTW9udGgiLCJ5ZWFyIiwibW9udGgiLCJEYXRlIiwiZ2V0RGF0ZSIsImdldERhdGVJbkRlZ3JlZSIsImRheXNNYXgiLCJkYXRlSW5EZWdyZWUiLCJuZXdEYXRlIiwiZ2V0TWlsbGlzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsImdldE1pbnV0ZXMiLCJnZXRIb3VycyIsImdldERheSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJkcmF3QXJjIiwidGltZUluRGVncmVlIiwiYXJjRW5kSW5EZWdyZWUiLCJvdXRlckNvcm5lclgiLCJNYXRoIiwiY29zIiwiUEkiLCJvdXRlckNvcm5lclkiLCJzaW4iLCJpbm5lckNvcm5lclgiLCJpbm5lckNvcm5lclkiLCJvdXRlckNvcm5lckFyY1N0YXJ0Iiwib3V0ZXJDb3JuZXJBcmNFbmQiLCJpbm5lckNvcm5lckFyY1N0YXJ0IiwiaW5uZXJDb3JuZXJBcmNFbmQiLCJzYXZlIiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbFN0eWxlIiwiZmlsbCIsInJlc3RvcmUiLCJfcmVkcmF3IiwiZWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiX2RyYXdTZWNvbmQiLCJfZHJhd01pbnV0ZSIsIl9kcmF3SG91ciIsImNhbnZhc1JlZnJlc2giLCJfZHJhd1NlY29uZEFyYyIsIl9kcmF3TWludXRlQXJjIiwiX2RyYXdIb3VyQXJjIiwiX2RyYXdEYXRlQXJjIiwiX3NlY29uZEFyYyIsIl9taW51dGVBcmMiLCJfaG91ckFyYyIsIl9kYXRlQXJjIiwic2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJfZHJhd0RpdiIsImRpdldpZHRoIiwidGltZSIsImRpdiIsImNzcyIsInRleHQiLCJvdmVyZmxvdyIsIndoaXRlLXNwYWNlIiwic2Vjb25kIiwiZW1wdHkiLCJhcHBlbmQiLCJtaW51dGUiLCJob3VyIiwiX2RyYXdNaWxsaXNlY29uZEluVHh0IiwibWlsbGlzZWNvbmQiLCJnZXRNaWxsaXNlY29uZCIsIl9taWxsaXNlY29uZCIsImlubmVySFRNTCIsIl9kcmF3U2Vjb25kSW5UeHQiLCJnZXRTZWNvbmQiLCJfc2Vjb25kIiwiX2RyYXdNaW51dGVJblR4dCIsImdldE1pbnV0ZSIsIl9taW51dGUiLCJfZHJhd0hvdXJJblR4dCIsImdldEhvdXIiLCJfaG91ciIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUNBLFFBQUFBLGdCQUNBQyxLQUFBQyxVQ0ZBLFFBQUFDLFNBQ0FILGFBQUFJLEtBQUFILE1BRUFBLEtBQUFJLGNBQUEsRUFDQUosS0FBQUssU0FBQSxFQUNBTCxLQUFBTSxTQUFBLEVBQ0FOLEtBQUFPLE9BQUEsRUFDQVAsS0FBQVEsTUFBQSxFQUNBUixLQUFBUyxLQUFBLEVBQ0FULEtBQUFVLE9BQUEsRUFDQVYsS0FBQVcsTUFBQSxFQ1RBLFFBQUFDLEtBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUFoQixLQUFBYSxZQUFBQSxFQUNBYixLQUFBYyxTQUFBQSxFQUNBZCxLQUFBaUIsWUFBQWpCLEtBQUFhLFlBQUFiLEtBQUFjLFNBQ0FkLEtBQUFrQixpQkFBQSxFQUNBbEIsS0FBQW1CLE9BQUFKLEVBRUFmLEtBQUFvQixXQUFBLEVBQ0FwQixLQUFBcUIsSUFBQUwsRUNWQSxRQUFBTSxNQUFBQyxH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V0FBQSxLQUNBekMsR0FBQSxVQUFBaUosT0FBQVAsSUFRQTdJLEtBQUFZLFVBQUEySSxzQkFBQSxXQUNBLEdBQUFDLEdBQUE5SyxLQUFBd0IsT0FBQXVKLGdCQUNBL0ssTUFBQWdMLGFBQUFDLFVBQUFILEdBSUF4SixLQUFBWSxVQUFBZ0osaUJBQUEsV0FDQSxHQUFBVixHQUFBeEssS0FBQXdCLE9BQUEySixXQUNBbkwsTUFBQW9MLFFBQUFILFVBQUFULEdBSUFsSixLQUFBWSxVQUFBbUosaUJBQUEsV0FDQSxHQUFBVixHQUFBM0ssS0FBQXdCLE9BQUE4SixXQUNBdEwsTUFBQXVMLFFBQUFOLFVBQUEsR0FBQU4sRUFBQSxJQUFBQSxFQUFBQSxHQUlBckosS0FBQVksVUFBQXNKLGVBQUEsV0FDQSxHQUFBWixHQUFBNUssS0FBQXdCLE9BQUFpSyxTQUNBekwsTUFBQTBMLE1BQUFULFVBQUEsR0FBQUwsRUFBQSxJQUFBQSxFQUFBQSxHQ2hKQTdJLFdBQUFHLFVBQUFKLGFBQUEsWUNQQSxJQUFBUCxPQUFBLEdBQUFyQixPQUNBOEIsS0FBQSxHQUFBVixNQUFBQyxPQUNBb0ssV0FBQSxHQUFBNUosWUFBQUMsS0FBQVQsTUFFQUEsT0FBQTBCIiwiZmlsZSI6ImRpc3QvYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV2ZW50RW1pdHRlci5qc1xyXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtcclxuICB0aGlzLmV2ZW50cyA9IHt9OyAvLyBhc3NvY2lhdGl2ZSBhcnJheSA6IGV2ZW50ID0+IGZ1bmN0aW9ucyB0byBjYWxsXHJcbn1cclxuXHJcbi8vIEFkZCBhIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBmbil7XHJcbiAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XHJcbiAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGZuKTtcclxufTtcclxuXHJcbi8vIFJlbW92ZSBhIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZm4pe1xyXG4gIGlmKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pe1xyXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmluZGV4T2YoZm4pO1xyXG4gICAgICBpZiAoaW5kZXggPiAtMSkgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFRyaWdnZXIgdGhlIGV2ZW50IChjYWxsIGFsbCB0aGUgZnVuY3Rpb25zIGxpbmtlZClcclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBkYXRhKXtcclxuICBpZih0aGlzLmV2ZW50c1tldmVudE5hbWVdKXtcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uZm9yRWFjaChmdW5jdGlvbihmbil7XHJcbiAgICAgIGZuKGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iLCJmdW5jdGlvbiBNb2RlbCgpIHtcbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTsgLy8gQ2FsbCBFdmVudEVtaXR0ZXIgY29uc3RydWN0b3JcbiAgICAvLyBNb2RlbCBJbml0aWFsaXNhdGlvblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IDA7XG4gICAgdGhpcy5fc2Vjb25kcyA9IDA7XG4gICAgdGhpcy5fbWludXRlcyA9IDA7XG4gICAgdGhpcy5faG91cnMgPSAwO1xuICAgIHRoaXMuX2RhdGUgPSAwO1xuICAgIHRoaXMuX2RheSA9IDA7XG4gICAgdGhpcy5fbW9udGggPSAwO1xuICAgIHRoaXMuX3llYXIgPSAwO1xufVxuXG4vLyBFdmVudEVtaXR0ZXIgaW5oZXJpdGFuY2Vcbk1vZGVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5Nb2RlbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNb2RlbDtcblxuLy8gU3RhcnQgdGhlIGNsb2NrXG5Nb2RlbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLl90aWMoKTtcbn07XG5cbi8vIEluaXRcbk1vZGVsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fc2V0TWlsbGlzZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRTZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRNaW51dGUoKTtcbiAgICB0aGlzLl9zZXRIb3VyKCk7XG4gICAgdGhpcy5fc2V0RGF0ZSgpO1xuICAgIHRoaXMuX3NldERheSgpO1xuICAgIHRoaXMuX3NldE1vbnRoKCk7XG4gICAgdGhpcy5fc2V0WWVhcigpO1xufTtcblxuLy8gVGljLi4uXG5Nb2RlbC5wcm90b3R5cGUuX3RpYyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZW1pdCgndGljJyk7XG4gICAgdGhpcy5fc2V0TWlsbGlzZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRTZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRNaW51dGUoKTtcbiAgICB0aGlzLl9zZXRIb3VyKCk7XG4gICAgdGhpcy5fc2V0RGF0ZSgpO1xuICAgIHRoaXMuX3NldERheSgpO1xuICAgIHRoaXMuX3NldE1vbnRoKCk7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWMuYmluZCh0aGlzKSk7XG59O1xuXG5cbi8vLy8gR0VUIFRJTUUgSU4gSVRTIE9XTiBWQUxMVUUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbk1vZGVsLnByb3RvdHlwZS5fZ2V0TWlsbGlzZWNvbmQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9nZXRTZWNvbmQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2Vjb25kcztcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fZ2V0TWludXRlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21pbnV0ZXM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX2dldEhvdXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faG91cnM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX2dldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0ZTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fZ2V0RGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RheTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fZ2V0TW9udGggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9udGg7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX2dldFllYXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5feWVhcjtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLy8vLyBHRVQgVElNRSBJTiBPU0VSIFZBTExVRVMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuTW9kZWwucHJvdG90eXBlLmdldFNlY29uZEluTWxzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFjdHVhbFMgPSB0aGlzLl9zZWNvbmRzO1xuICAgIHZhciBhY3R1YWxNbHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgdmFyIHNJbk1scyA9ICAoYWN0dWFsUyAqIDEwMDApICsgYWN0dWFsTWxzO1xuICAgIHJldHVybiBzSW5NbHM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0TWludXRlSW5NbHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc0luTWxzID0gdGhpcy5nZXRTZWNvbmRJbk1scygpO1xuICAgIHZhciBhY3R1YWxNID0gdGhpcy5fbWludXRlcztcbiAgICB2YXIgbUluTWxzID0gIChhY3R1YWxNICogNjAgKiAxMDAwKSArIHNJbk1scztcbiAgICByZXR1cm4gbUluTWxzO1xufTtcblxuTW9kZWwucHJvdG90eXBlLmdldE1pbnV0ZUluUyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3R1YWxTID0gdGhpcy5fc2Vjb25kcztcbiAgICB2YXIgYWN0dWFsTSA9IHRoaXMuX21pbnV0ZXM7XG4gICAgdmFyIG1JblMgPSAoYWN0dWFsTSAqIDYwKSArIGFjdHVhbFM7XG4gICAgcmV0dXJuIG1JblM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0SG91ckluUyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtSW5TID0gdGhpcy5nZXRNaW51dGVJblMoKTtcbiAgICB2YXIgYWN0dWFsSCA9IHRoaXMuX2hvdXJzO1xuICAgIHZhciBoSW5TID0gKGFjdHVhbEggICogNjAgKiA2MCkgKyBtSW5TO1xuICAgIHJldHVybiBoSW5TO1xufTtcblxuTW9kZWwucHJvdG90eXBlLmdldEhvdXJJbk1pbiA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGFjdHVhbE1pbiA9IHRoaXMuX21pbnV0ZXM7XG4gICAgdmFyIGFjdHVhbEggPSB0aGlzLl9ob3VycztcbiAgICB2YXIgaEluTWluID0gKGFjdHVhbEggKiA2MCkgKyBhY3R1YWxNaW47XG4gICAgcmV0dXJuIGhJbk1pbjtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5nZXREYXRlSW5NaW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaEluTWluID0gdGhpcy5nZXRIb3VySW5NaW4oKTtcbiAgICB2YXIgYWN0dWFsRGF0ZSA9IHRoaXMuX2RhdGU7XG4gICAgLy8gYSBkYXkgaGFzIDI0IGhvdXJzIHNvIGlmIHdlIGFyZSB0aGUgMXN0IHRoZSBkYXkgaXMgYWN0dWFsbHkgcGFzc2luZyBmcm9tIDAgdG8gMjRoXG4gICAgdmFyIGRhdGVJbk1pbiA9ICgoYWN0dWFsRGF0ZSAtIDEpICogMjQgKiA2MCkgKyBoSW5NaW47XG4gICAgcmV0dXJuIGRhdGVJbk1pbjtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5nZXREYXlJbk1pbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoSW5NaW4gPSB0aGlzLmdldEhvdXJJbk1pbigpO1xuICAgIHZhciBhY3R1YWxEYXkgPSB0aGlzLl9kYXk7XG4gICAgLy8gYSBkYXkgaGFzIDI0IGhvdXJzIHNvIGlmIHdlIGFyZSB0aGUgMXN0IHRoZSBkYXkgaXMgYWN0dWFsbHkgcGFzc2luZyBmcm9tIDAgdG8gMjRoXG4gICAgdmFyIGRheUluTWluID0gKChhY3R1YWxEYXkgPiAwID8gYWN0dWFsRGF5IC09IDEgOiBqb3VyID0gNikgKiAyNCAqIDYwKSArIGhJbk1pbjtcbiAgICByZXR1cm4gZGF5SW5NaW47XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vLy8gR0VUIFRJTUUgSU4gREVHUkVFIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbk1vZGVsLnByb3RvdHlwZS5nZXRTZWNvbmRJbkRlZ3JlZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWN0dWFsUyA9IHRoaXMuZ2V0U2Vjb25kSW5NbHMoKTtcbiAgICB2YXIgc2Vjb25kSW5EZWdyZWUgPSBhY3R1YWxTICogKDM2MCAvICg2MCAqIDEwMDApKTtcbiAgICByZXR1cm4gc2Vjb25kSW5EZWdyZWU7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0TWludXRlSW5EZWdyZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjdHVhbE0gPSB0aGlzLmdldE1pbnV0ZUluTWxzKCk7XG4gICAgdmFyIG1pbnV0ZUluRGVncmVlID0gYWN0dWFsTSAqICgzNjAgLyAoNjAgKiA2MCAqIDEwMDApKTtcbiAgICByZXR1cm4gbWludXRlSW5EZWdyZWU7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0SG91ckluRGVncmVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3R1YWxIID0gdGhpcy5nZXRIb3VySW5TKCk7XG4gICAgdmFyIGhvdXJJbkRlZ3JlZSA9IGFjdHVhbEggKiAoMzYwIC8gKDI0ICogNjAgKiA2MCkpO1xuICAgIHJldHVybiBob3VySW5EZWdyZWU7XG59O1xuLy8gR2V0IGhvdyBtYW55IGRheXMgaW4gdGhlIGFjdHVhbCBtb250aFxuTW9kZWwucHJvdG90eXBlLmdldERheXNNYXhJbk1vbnRoID0gZnVuY3Rpb24gKHllYXIsIG1vbnRoKSB7XG4gICAgLy8gd2hlbiBEYXRlIGlzIGNyZWF0ZWQsIGdpdmUgaXQgcGFyYW1ldGVycyB0byBnZXQgdGhlIGRhdGUgeW91IHdhbnRcbiAgICAvLyBIZXJlIHdlIG5lZWQgdG8ga25vdyBob3cgbWFueSBkYXlzIHRoZXJlIGFyZSBpbiB0aGUgY3VycmVudCBtb250aFxuICAgIC8vIFNvIHdlIGdpdmUgdG8gbmV3IERhdGUgdGhlIGN1cnJlbnQgeWVhcixcbiAgICAvLyB0aGUgY3VycmVudCBtb250aCsxID0gbmV4dCBtb250aCwgd2l0aCB0aGUgM3JkIHBhcmFtZXRlciB0aGF0IGlzIDAgZm9yIGRheSAwXG4gICAgLy8gRm9yIGV4YW1wbGUgOiAoMjAxNiAsIDIgKyAxICwgMCkgPT4gMjAxNiAzKEFwcmlsKSAwID0gMjAxNiAyKE1hcmNoKSAzMShsYXN0IGRheSlcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggKyAxLCAwKS5nZXREYXRlKCk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0RGF0ZUluRGVncmVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3R1YWxEYXRlID0gdGhpcy5nZXREYXRlSW5NaW4oKTtcbiAgICAvLyBIb3cgbWFueSBkYXlzIGluIHRoZSBhY3R1YWwgbW9udGhcbiAgICB2YXIgZGF5c01heCA9IHRoaXMuZ2V0RGF5c01heEluTW9udGgodGhpcy5fZ2V0WWVhcigpLHRoaXMuX2dldE1vbnRoKCkpO1xuICAgIHZhciBkYXRlSW5EZWdyZWUgPSBhY3R1YWxEYXRlICogKDM2MCAvIChkYXlzTWF4ICogMjQgKiA2MCkpO1xuICAgIHJldHVybiBkYXRlSW5EZWdyZWU7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vLy8gU0VUVElORyBUSU1FIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbk1vZGVsLnByb3RvdHlwZS5fc2V0TWlsbGlzZWNvbmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbmV3RGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICB0aGlzLmVtaXQoJ21zQ2hhbmdlJyk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX3NldFNlY29uZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLl9zZWNvbmRzID0gbmV3RGF0ZS5nZXRTZWNvbmRzKCk7XG4gICAgdGhpcy5lbWl0KCdzQ2hhbmdlJyk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX3NldE1pbnV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLl9taW51dGVzID0gbmV3RGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgdGhpcy5lbWl0KCdtQ2hhbmdlJyk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX3NldEhvdXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5faG91cnMgPSBuZXdEYXRlLmdldEhvdXJzKCk7XG4gICAgdGhpcy5lbWl0KCdoQ2hhbmdlJyk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX3NldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fZGF0ZSA9IG5ld0RhdGUuZ2V0RGF0ZSgpO1xuICAgIHRoaXMuZW1pdCgnZGF0ZUNoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXREYXkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fZGF5ID0gbmV3RGF0ZS5nZXREYXkoKTtcbiAgICB0aGlzLmVtaXQoJ2RheUNoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXRNb250aCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLl9tb250aCA9IG5ld0RhdGUuZ2V0TW9udGgoKTtcbiAgICB0aGlzLmVtaXQoJ21vbnRoQ2hhbmdlJyk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX3NldFllYXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5feWVhciA9IG5ld0RhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB0aGlzLmVtaXQoJ3llYXJDaGFuZ2UnKTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4iLCIvLyBhcmMuanNcbmZ1bmN0aW9uIEFyYyhvdXRlclJhZGl1cyxhcmNXaWR0aCxjb2xvcixfY3R4KXtcbiAgICAvLyBBcmMgcHJvcGVydGllc1xuICAgIHRoaXMub3V0ZXJSYWRpdXMgPSBvdXRlclJhZGl1cztcbiAgICB0aGlzLmFyY1dpZHRoID0gYXJjV2lkdGg7XG4gICAgdGhpcy5pbm5lclJhZGl1cyA9IHRoaXMub3V0ZXJSYWRpdXMgLSB0aGlzLmFyY1dpZHRoO1xuICAgIHRoaXMuYXJjU3RhcnRJbkRlZ3JlZSA9IDA7XG4gICAgdGhpcy5fY29sb3IgPSBjb2xvcjtcbiAgICAvLyBSb3VuZGVkIGNvcm5lcnMgcHJvcGVydGllc1xuICAgIHRoaXMuY29ybmVyU2l6ZSA9IDM7XG4gICAgdGhpcy5jdHggPSBfY3R4O1xufVxuXG5BcmMucHJvdG90eXBlLmRyYXdBcmMgPSBmdW5jdGlvbiAodGltZUluRGVncmVlKXtcbiAgICAvL3RoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMuYXJjRW5kSW5EZWdyZWUgPSB0aW1lSW5EZWdyZWU7XG4gICAgdGhpcy5vdXRlckNvcm5lclggPSAodGhpcy5vdXRlclJhZGl1cyAtIHRoaXMuY29ybmVyU2l6ZSkgKiAoTWF0aC5jb3MoKHRoaXMuYXJjRW5kSW5EZWdyZWUpICogKE1hdGguUEkgLyAxODApKSk7XG4gICAgdGhpcy5vdXRlckNvcm5lclkgPSAodGhpcy5vdXRlclJhZGl1cyAtIHRoaXMuY29ybmVyU2l6ZSkgKiAoTWF0aC5zaW4oKHRoaXMuYXJjRW5kSW5EZWdyZWUpICogKE1hdGguUEkgLyAxODApKSk7XG4gICAgdGhpcy5pbm5lckNvcm5lclggPSAodGhpcy5pbm5lclJhZGl1cyArIHRoaXMuY29ybmVyU2l6ZSkgKiAoTWF0aC5jb3MoKHRoaXMuYXJjRW5kSW5EZWdyZWUpICogKE1hdGguUEkgLyAxODApKSk7XG4gICAgdGhpcy5pbm5lckNvcm5lclkgPSAodGhpcy5pbm5lclJhZGl1cyArIHRoaXMuY29ybmVyU2l6ZSkgKiAoTWF0aC5zaW4oKHRoaXMuYXJjRW5kSW5EZWdyZWUpICogKE1hdGguUEkgLyAxODApKSk7XG4gICAgdGhpcy5vdXRlckNvcm5lckFyY1N0YXJ0ID0gKDAgKyB0aGlzLmFyY0VuZEluRGVncmVlKSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICB0aGlzLm91dGVyQ29ybmVyQXJjRW5kID0gKDkwICsgdGhpcy5hcmNFbmRJbkRlZ3JlZSkgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgdGhpcy5pbm5lckNvcm5lckFyY1N0YXJ0ID0gKDkwICsgdGhpcy5hcmNFbmRJbkRlZ3JlZSkgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgdGhpcy5pbm5lckNvcm5lckFyY0VuZCA9ICgxODAgKyB0aGlzLmFyY0VuZEluRGVncmVlKSAqIChNYXRoLlBJIC8gMTgwKTtcblxuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAvLyBTdGFydCBkcmF3aW5nXG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgLy9TdGFydCBpbm5lciByb3VuZGVkIGNvcm5lclxuICAgIHRoaXMuY3R4LmFyYyh0aGlzLmlubmVyUmFkaXVzICsgdGhpcy5jb3JuZXJTaXplLCAwLCB0aGlzLmNvcm5lclNpemUsIDE4MCAqIChNYXRoLlBJIC8gMTgwKSwgMjcwICogKE1hdGguUEkgLyAxODApLCBmYWxzZSk7XG4gICAgLy9TdGFydCBvdXRlciByb3VuZGVkIGNvcm5lclxuICAgIHRoaXMuY3R4LmFyYyh0aGlzLm91dGVyUmFkaXVzIC0gdGhpcy5jb3JuZXJTaXplLCAwLCB0aGlzLmNvcm5lclNpemUsIDI3MCAqIChNYXRoLlBJIC8gMTgwKSwgMCAqIChNYXRoLlBJIC8gMTgwKSwgZmFsc2UpO1xuICAgIC8vT3V0ZXIgYXJjXG4gICAgdGhpcy5jdHguYXJjKDAsIDAsIHRoaXMub3V0ZXJSYWRpdXMsICh0aGlzLmFyY1N0YXJ0SW5EZWdyZWUgKiAoTWF0aC5QSSAvIDE4MCkpLCAodGhpcy5hcmNFbmRJbkRlZ3JlZSAqIChNYXRoLlBJIC8gMTgwKSksIGZhbHNlKTtcbiAgICAvL0V4dHJpbWl0eSBvdXRlciByb3VuZGVkIGNvcm5lclxuICAgIHRoaXMuY3R4LmFyYyh0aGlzLm91dGVyQ29ybmVyWCwgdGhpcy5vdXRlckNvcm5lclksIHRoaXMuY29ybmVyU2l6ZSwgdGhpcy5vdXRlckNvcm5lckFyY1N0YXJ0LCB0aGlzLm91dGVyQ29ybmVyQXJjRW5kLCBmYWxzZSk7XG4gICAgLy9FeHRyaW1pdHkgaW5uZXIgcm91bmRlZCBjb3JuZXJcbiAgICB0aGlzLmN0eC5hcmModGhpcy5pbm5lckNvcm5lclgsIHRoaXMuaW5uZXJDb3JuZXJZLCB0aGlzLmNvcm5lclNpemUsIHRoaXMuaW5uZXJDb3JuZXJBcmNTdGFydCwgdGhpcy5pbm5lckNvcm5lckFyY0VuZCwgZmFsc2UpO1xuICAgIC8vSW5uZXIgYXJjXG4gICAgdGhpcy5jdHguYXJjKDAsIDAsIHRoaXMuaW5uZXJSYWRpdXMsICh0aGlzLmFyY0VuZEluRGVncmVlICogKE1hdGguUEkgLyAxODApKSwgKHRoaXMuYXJjU3RhcnRJbkRlZ3JlZSAqIChNYXRoLlBJIC8gMTgwKSksIHRydWUpO1xuICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9yO1xuICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbn07XG4iLCJmdW5jdGlvbiBWaWV3KG1vZGVsKSB7XG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLmN0eCA9ICQoJyNjYW52YXMnKVswXS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIC8vIEFsbCB0aGUgRE9NIGVsZW1lbnRzIHRvIGdldFxuICAgIHRoaXMuX2VsZW1lbnRzID0gWydob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnXTtcbiAgICB0aGlzLl9nZXRFbGVtZW50cygpO1xuICAgIHRoaXMuX2luaXQoKTtcbiAgICB0aGlzLl9iaW5kQWN0aW9ucygpO1xuXG59XG5cblZpZXcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmlldztcblxuVmlldy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9yZWRyYXcoKTtcbn07XG5cbi8vIEdldCBhbGwgdGhlIERPTSBlbGVtZW50cyBhbmQgYmluZCBlbWl0XG4vLyBCYXNpY2FsbHksIGl0IHRyYW5zZm9ybXMgRE9NIGV2ZW50IGludG8gVmlldyBldmVudFxuVmlldy5wcm90b3R5cGUuX2dldEVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbCkgeyAvLyBbJ2hvdXInLCAuLi4gXVxuICAgICAgICB0aGlzWydfJyArIGVsXSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsKTsgLy8gZXg6IHRoaXMuX2hvdXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG91cicpO1xuICAgIH0sIHRoaXMpO1xufTtcblxuLy8gV2hhdCBtdXN0IEkgZG8gd2hlbiBtb2RlbCBjaGFuZ2VzP1xuVmlldy5wcm90b3R5cGUuX2JpbmRBY3Rpb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLl9tb2RlbC5vbignc0NoYW5nZScsIHRoaXMuX2RyYXdTZWNvbmQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fbW9kZWwub24oJ21DaGFuZ2UnLCB0aGlzLl9kcmF3TWludXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX21vZGVsLm9uKCdoQ2hhbmdlJywgdGhpcy5fZHJhd0hvdXIuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLl9tb2RlbC5vbigndGljJywgdGhpcy5jYW52YXNSZWZyZXNoLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX21vZGVsLm9uKCdzQ2hhbmdlJywgdGhpcy5fZHJhd1NlY29uZEFyYy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9tb2RlbC5vbignbUNoYW5nZScsIHRoaXMuX2RyYXdNaW51dGVBcmMuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fbW9kZWwub24oJ2hDaGFuZ2UnLCB0aGlzLl9kcmF3SG91ckFyYy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9tb2RlbC5vbignZGF0ZUNoYW5nZScsIHRoaXMuX2RyYXdEYXRlQXJjLmJpbmQodGhpcykpO1xufTtcblxuLy8gUmVkcmF3IHRoZSBjbG9ja1xuVmlldy5wcm90b3R5cGUuX3JlZHJhdyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5fZHJhd1NlY29uZCgpO1xuICAgIHRoaXMuX2RyYXdNaW51dGUoKTtcbiAgICB0aGlzLl9kcmF3SG91cigpO1xuXG4gICAgdGhpcy5fc2Vjb25kQXJjID0gbmV3IEFyYygyNDAsIDI1LCAncmVkJywgdGhpcy5jdHgpO1xuICAgIHRoaXMuX21pbnV0ZUFyYyA9IG5ldyBBcmMoMjEwLCAyNSwgJ29yYW5nZScsIHRoaXMuY3R4KTtcbiAgICB0aGlzLl9ob3VyQXJjID0gbmV3IEFyYygxODAsIDI1LCAnZ29sZCcsIHRoaXMuY3R4KTtcbiAgICB0aGlzLl9kYXRlQXJjID0gbmV3IEFyYygxNTAsIDI1LCAncHVycGxlJywgdGhpcy5jdHgpO1xuICAgIHRoaXMuY2FudmFzUmVmcmVzaCgpO1xuICAgIHRoaXMuX2RyYXdTZWNvbmRBcmMoKTtcbiAgICB0aGlzLl9kcmF3TWludXRlQXJjKCk7XG4gICAgdGhpcy5fZHJhd0hvdXJBcmMoKTtcbiAgICB0aGlzLl9kcmF3RGF0ZUFyYygpO1xufTtcblxuLy8vLyBEUkFXIFRJTUUgQVMgQVJDIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuVmlldy5wcm90b3R5cGUuY2FudmFzUmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICB0aGlzLmN0eC50cmFuc2xhdGUoMjUwLCAyNTApO1xuICAgIHRoaXMuY3R4LnJvdGF0ZSgtOTAgKiBNYXRoLlBJIC8gMTgwKTtcbn07XG5cblZpZXcucHJvdG90eXBlLl9kcmF3U2Vjb25kQXJjID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlY29uZEluRGVncmVlID0gdGhpcy5fbW9kZWwuZ2V0U2Vjb25kSW5EZWdyZWUoKTtcbiAgICB0aGlzLl9zZWNvbmRBcmMuZHJhd0FyYyhzZWNvbmRJbkRlZ3JlZSk7XG59O1xuXG5WaWV3LnByb3RvdHlwZS5fZHJhd01pbnV0ZUFyYyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtaW51dGVJbkRlZ3JlZSA9IHRoaXMuX21vZGVsLmdldE1pbnV0ZUluRGVncmVlKCk7XG4gICAgdGhpcy5fbWludXRlQXJjLmRyYXdBcmMobWludXRlSW5EZWdyZWUpO1xufTtcblxuVmlldy5wcm90b3R5cGUuX2RyYXdIb3VyQXJjID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhvdXJJbkRlZ3JlZSA9IHRoaXMuX21vZGVsLmdldEhvdXJJbkRlZ3JlZSgpO1xuICAgIHRoaXMuX2hvdXJBcmMuZHJhd0FyYyhob3VySW5EZWdyZWUpO1xufTtcblxuVmlldy5wcm90b3R5cGUuX2RyYXdEYXRlQXJjID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGVJbkRlZ3JlZSA9IHRoaXMuX21vZGVsLmdldERhdGVJbkRlZ3JlZSgpO1xuICAgIHRoaXMuX2RhdGVBcmMuZHJhd0FyYyhkYXRlSW5EZWdyZWUpO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vLy8vIERSQVcgVElNRSBBUyBESVYgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIGhvdyB0byBkcmF3IHRoZSBkaXZcblZpZXcucHJvdG90eXBlLl9kcmF3RGl2ID0gZnVuY3Rpb24oZGl2V2lkdGgsIGNvbG9yLCB0aW1lKSB7XG4gICAgdmFyIGRpdiA9ICQoJzxkaXY+JykuY3NzKCdoZWlnaHQnLCAnMTRweCcpLmNzcygnd2lkdGgnLCBkaXZXaWR0aCArICclJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgY29sb3IpLmNzcygnbWFyZ2luJywgJzFweCAwcHgnKVxuICAgICAgICAudGV4dCh0aW1lKS5jc3MoJ3RleHQtYWxpZ24nLCAncmlnaHQnKS5jc3MoJ2NvbG9yJywgJ3doaXRlJykuY3NzKCdmb250LWZhbWlseScsICdhcmlhbCcpLmNzcygncGFkZGluZy1yaWdodCcsICcycHgnKVxuICAgICAgICAuY3NzKHsnb3ZlcmZsb3cnOidoaWRkZW4nICwgJ3doaXRlLXNwYWNlJzonbm93cmFwJ30pO1xuICAgIHJldHVybiBkaXY7XG59O1xuXG5WaWV3LnByb3RvdHlwZS5fZHJhd1NlY29uZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWNvbmQgPSB0aGlzLl9tb2RlbC5nZXRTZWNvbmRJbk1scygpO1xuICAgICQoJyNkcmF3UycpLmVtcHR5KCk7XG4gICAgdmFyIGRpdldpZHRoO1xuICAgIGRpdldpZHRoID0gc2Vjb25kICogKDEwMCAvICg2MCAqIDEwMDApKTtcbiAgICB2YXIgZGl2ID0gdGhpcy5fZHJhd0RpdihkaXZXaWR0aCwgJ3JlZCcsICh0aGlzLl9tb2RlbC5fZ2V0U2Vjb25kKCkpICsgJyBzJyk7XG4gICAgJCgnI2RyYXdTJykuYXBwZW5kKGRpdik7XG59O1xuXG5WaWV3LnByb3RvdHlwZS5fZHJhd01pbnV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtaW51dGUgPSB0aGlzLl9tb2RlbC5nZXRNaW51dGVJbk1scygpO1xuICAgICQoJyNkcmF3TScpLmVtcHR5KCk7XG4gICAgdmFyIGRpdldpZHRoO1xuICAgIGRpdldpZHRoID0gbWludXRlICogKDEwMCAvICg2MCAqIDYwICogMTAwMCkpO1xuICAgIHZhciBkaXYgPSB0aGlzLl9kcmF3RGl2KGRpdldpZHRoLCAnb3JhbmdlJywgKHRoaXMuX21vZGVsLl9nZXRNaW51dGUoKSkgKyAnIG1pbicpO1xuICAgICQoJyNkcmF3TScpLmFwcGVuZChkaXYpO1xufTtcblxuVmlldy5wcm90b3R5cGUuX2RyYXdIb3VyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhvdXIgPSB0aGlzLl9tb2RlbC5nZXRIb3VySW5TKCk7XG4gICAgJCgnI2RyYXdIJykuZW1wdHkoKTtcbiAgICB2YXIgZGl2V2lkdGg7XG4gICAgZGl2V2lkdGggPSBob3VyICogKDEwMCAvICgyNCAqIDYwICogNjAgKSk7XG4gICAgdmFyIGRpdiA9IHRoaXMuX2RyYXdEaXYoZGl2V2lkdGgsICdnb2xkJywgKHRoaXMuX21vZGVsLl9nZXRIb3VyKCkpICsgJyBoJyk7XG4gICAgJCgnI2RyYXdIJykuYXBwZW5kKGRpdik7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vLy8gRFJBVyBUSU1FIEFTIFRFWFQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gU2V0IG1pbGxpc3NlY29uZCB0byBtb2RlbCB2YWx1ZVxuVmlldy5wcm90b3R5cGUuX2RyYXdNaWxsaXNlY29uZEluVHh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kID0gdGhpcy5fbW9kZWwuZ2V0TWlsbGlzZWNvbmQoKTtcbiAgICB0aGlzLl9taWxsaXNlY29uZC5pbm5lckhUTUwgPSBtaWxsaXNlY29uZDtcbn07XG5cbi8vIFNldCBzZWNvbmQgdG8gbW9kZWwgdmFsdWVcblZpZXcucHJvdG90eXBlLl9kcmF3U2Vjb25kSW5UeHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2Vjb25kID0gdGhpcy5fbW9kZWwuZ2V0U2Vjb25kKCk7XG4gICAgdGhpcy5fc2Vjb25kLmlubmVySFRNTCA9IHNlY29uZDtcbn07XG5cbi8vIFNldCBtaW51dGUgdG8gbW9kZWwgdmFsdWVcblZpZXcucHJvdG90eXBlLl9kcmF3TWludXRlSW5UeHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWludXRlID0gdGhpcy5fbW9kZWwuZ2V0TWludXRlKCk7XG4gICAgdGhpcy5fbWludXRlLmlubmVySFRNTCA9IG1pbnV0ZSA8IDEwID8gJzAnICsgbWludXRlIDogbWludXRlO1xufTtcblxuLy8gU2V0IGhvdXIgdG8gbW9kZWwgdmFsdWVcblZpZXcucHJvdG90eXBlLl9kcmF3SG91ckluVHh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhvdXIgPSB0aGlzLl9tb2RlbC5nZXRIb3VyKCk7XG4gICAgdGhpcy5faG91ci5pbm5lckhUTUwgPSBob3VyIDwgMTAgPyAnMCcgKyBob3VyIDogaG91cjtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4iLCJmdW5jdGlvbiBDb250cm9sbGVyKHZpZXcsIG1vZGVsKSB7XHJcbiAgICB0aGlzLl92aWV3ID0gdmlldztcclxuICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XHJcbiAgICB0aGlzLl9iaW5kQWN0aW9ucygpO1xyXG59XHJcblxyXG4vLyBXaGF0IHRvIGRvIHdoZW4gdGhlIHZpZXcgdHJpZ2dlcnMgYW4gZXZlbnQ/XHJcbkNvbnRyb2xsZXIucHJvdG90eXBlLl9iaW5kQWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gdGhpcy5fdmlldy5vbignaFBsdXMnLCB0aGlzLl9hZGRIb3VyLmJpbmQodGhpcykpO1xyXG4gICAgLy8gdGhpcy5fdmlldy5vbignbVBsdXMnLCB0aGlzLl9hZGRNaW51dGUuYmluZCh0aGlzKSk7XHJcbiAgICAvLyB0aGlzLl92aWV3Lm9uKCdzUGx1cycsIHRoaXMuX2FkZFNlY29uZC5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcblxyXG4vLyBDb250cm9sbGVyLnByb3RvdHlwZS5fYWRkSG91ciA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgdGhpcy5fbW9kZWwuYWRkSG91cigpO1xyXG4vLyB9O1xyXG4vLyBDb250cm9sbGVyLnByb3RvdHlwZS5fYWRkTWludXRlID0gZnVuY3Rpb24oKXtcclxuLy8gICB0aGlzLl9tb2RlbC5hZGRNaW51dGUoKTtcclxuLy8gfTtcclxuLy8gQ29udHJvbGxlci5wcm90b3R5cGUuX2FkZFNlY29uZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgdGhpcy5fbW9kZWwuYWRkU2Vjb25kKCk7XHJcbi8vIH07XHJcbiIsInZhciBtb2RlbCA9IG5ldyBNb2RlbCgpO1xyXG52YXIgdmlldyA9IG5ldyBWaWV3KG1vZGVsKTtcclxudmFyIGNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih2aWV3LCBtb2RlbCk7XHJcblxyXG5tb2RlbC5zdGFydCgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
