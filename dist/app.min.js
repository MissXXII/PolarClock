function EventEmitter(){this.events={}}function Model(){EventEmitter.call(this),this._milliseconds=0,this._seconds=0,this._minutes=0,this._hours=0,this._date=0,this._day=0,this._month=0,this._year=0}function Arc(t,e,i,n){this.outerRadius=t,this.arcWidth=e,this.innerRadius=this.outerRadius-this.arcWidth,this.arcStartInDegree=0,this._color=i,this.cornerSize=3,this.ctx=n}function View(t){EventEmitter.call(this),this._model=t,this.ctx=$("#canvas")[0].getContext("2d"),this._elements=["hour","minute","second","millisecond"],this._getElements(),this._init(),this._bindActions()}function Controller(t,e){this._view=t,this._model=e,this._bindActions()}EventEmitter.prototype.on=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},EventEmitter.prototype.off=function(t,e){if(this.events[t]){var i=this.events[t].indexOf(e);i>-1&&this.events[t].splice(i,1)}},EventEmitter.prototype.emit=function(t,e){this.events[t]&&this.events[t].forEach(function(t){t(e)})},Model.prototype=Object.create(EventEmitter.prototype),Model.prototype.constructor=Model,Model.prototype.start=function(){this.init(),this._tic()},Model.prototype.init=function(){this._setMillisecond(),this._setSecond(),this._setMinute(),this._setHour(),this._setDate(),this._setDay(),this._setMonth(),this._setYear()},Model.prototype._tic=function(){this.emit("tic"),this._setMillisecond(),this._setSecond(),this._setMinute(),this._setHour(),this._setDate(),this._setDay(),this._setMonth(),window.requestAnimationFrame(this._tic.bind(this))},Model.prototype._getMillisecond=function(){return this._milliseconds},Model.prototype._getSecond=function(){return this._seconds},Model.prototype._getMinute=function(){return this._minutes},Model.prototype._getHour=function(){return this._hours},Model.prototype._getDate=function(){return this._date},Model.prototype._getDay=function(){return this._day},Model.prototype._getMonth=function(){return this._month},Model.prototype._getYear=function(){return this._year},Model.prototype.getSecondInMls=function(){var t=this._seconds,e=this._milliseconds,i=1e3*t+e;return i},Model.prototype.getMinuteInMls=function(){var t=this.getSecondInMls(),e=this._minutes,i=60*e*1e3+t;return i},Model.prototype.getMinuteInS=function(){var t=this._seconds,e=this._minutes,i=60*e+t;return i},Model.prototype.getHourInS=function(){var t=this.getMinuteInS(),e=this._hours,i=60*e*60+t;return i},Model.prototype.getHourInMin=function(){var t=this._minutes,e=this._hours,i=60*e+t;return i},Model.prototype.getDateInMin=function(){var t=this.getHourInMin(),e=this._date,i=24*(e-1)*60+t;return i},Model.prototype.getDayInMin=function(){var t=this.getHourInMin(),e=this._day,i=24*(e>0?e-=1:jour=6)*60+t;return i},Model.prototype.getSecondInDegree=function(){var t=this.getSecondInMls(),e=.006*t;return e},Model.prototype.getMinuteInDegree=function(){var t=this.getMinuteInMls(),e=1e-4*t;return e},Model.prototype.getHourInDegree=function(){var t=this.getHourInS(),e=t*(360/86400);return e},Model.prototype.getDaysMaxInMonth=function(t,e){return new Date(t,e+1,0).getDate()},Model.prototype.getDateInDegree=function(){var t=this.getDateInMin(),e=this.getDaysMaxInMonth(this._getYear(),this._getMonth()),i=t*(360/(24*e*60));return i},Model.prototype.getDayInDegree=function(){var t=this.getDayInMin(),e=t*(360/10080);return e},Model.prototype._setMillisecond=function(){var t=new Date;this._milliseconds=t.getMilliseconds(),this.emit("msChange")},Model.prototype._setSecond=function(){var t=new Date;this._seconds=t.getSeconds(),this.emit("sChange")},Model.prototype._setMinute=function(){var t=new Date;this._minutes=t.getMinutes(),this.emit("mChange")},Model.prototype._setHour=function(){var t=new Date;this._hours=t.getHours(),this.emit("hChange")},Model.prototype._setDate=function(){var t=new Date;this._date=t.getDate(),this.emit("dateChange")},Model.prototype._setDay=function(){var t=new Date;this._day=t.getDay(),this.emit("dayChange")},Model.prototype._setMonth=function(){var t=new Date;this._month=t.getMonth(),this.emit("monthChange")},Model.prototype._setYear=function(){var t=new Date;this._year=t.getFullYear(),this.emit("yearChange")},Arc.prototype.drawArc=function(t){this.arcEndInDegree=t,this.outerCornerX=(this.outerRadius-this.cornerSize)*Math.cos(this.arcEndInDegree*(Math.PI/180)),this.outerCornerY=(this.outerRadius-this.cornerSize)*Math.sin(this.arcEndInDegree*(Math.PI/180)),this.innerCornerX=(this.innerRadius+this.cornerSize)*Math.cos(this.arcEndInDegree*(Math.PI/180)),this.innerCornerY=(this.innerRadius+this.cornerSize)*Math.sin(this.arcEndInDegree*(Math.PI/180)),this.outerCornerArcStart=(0+this.arcEndInDegree)*(Math.PI/180),this.outerCornerArcEnd=(90+this.arcEndInDegree)*(Math.PI/180),this.innerCornerArcStart=(90+this.arcEndInDegree)*(Math.PI/180),this.innerCornerArcEnd=(180+this.arcEndInDegree)*(Math.PI/180),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.innerRadius+this.cornerSize,0,this.cornerSize,180*(Math.PI/180),270*(Math.PI/180),!1),this.ctx.arc(this.outerRadius-this.cornerSize,0,this.cornerSize,270*(Math.PI/180),0*(Math.PI/180),!1),this.ctx.arc(0,0,this.outerRadius,this.arcStartInDegree*(Math.PI/180),this.arcEndInDegree*(Math.PI/180),!1),this.ctx.arc(this.outerCornerX,this.outerCornerY,this.cornerSize,this.outerCornerArcStart,this.outerCornerArcEnd,!1),this.ctx.arc(this.innerCornerX,this.innerCornerY,this.cornerSize,this.innerCornerArcStart,this.innerCornerArcEnd,!1),this.ctx.arc(0,0,this.innerRadius,this.arcEndInDegree*(Math.PI/180),this.arcStartInDegree*(Math.PI/180),!0),this.ctx.closePath(),this.ctx.fillStyle=this._color,this.ctx.fill(),this.ctx.restore()},View.prototype=Object.create(EventEmitter.prototype),View.prototype.constructor=View,View.prototype._init=function(){this._redraw()},View.prototype._getElements=function(){this._elements.forEach(function(t){this["_"+t]=document.getElementById(t)},this)},View.prototype._bindActions=function(){this._model.on("sChange",this._drawSecond.bind(this)),this._model.on("mChange",this._drawMinute.bind(this)),this._model.on("hChange",this._drawHour.bind(this)),this._model.on("tic",this.canvasRefresh.bind(this)),this._model.on("sChange",this._drawSecondArc.bind(this)),this._model.on("mChange",this._drawMinuteArc.bind(this)),this._model.on("hChange",this._drawHourArc.bind(this)),this._model.on("dateChange",this._drawDateArc.bind(this)),this._model.on("dayChange",this._drawDayArc.bind(this))},View.prototype._redraw=function(){this._drawSecond(),this._drawMinute(),this._drawHour(),this._secondArc=new Arc(240,25,"red",this.ctx),this._minuteArc=new Arc(210,25,"orange",this.ctx),this._hourArc=new Arc(180,25,"gold",this.ctx),this._dateArc=new Arc(150,25,"purple",this.ctx),this._dayArc=new Arc(120,25,"fuchsia",this.ctx),this.canvasRefresh(),this._drawSecondArc(),this._drawMinuteArc(),this._drawHourArc(),this._drawDateArc(),this._drawDayArc()},View.prototype.canvasRefresh=function(){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,canvas.width,canvas.height),this.ctx.translate(250,250),this.ctx.rotate(-90*Math.PI/180)},View.prototype._drawSecondArc=function(){var t=this._model.getSecondInDegree();this._secondArc.drawArc(t)},View.prototype._drawMinuteArc=function(){var t=this._model.getMinuteInDegree();this._minuteArc.drawArc(t)},View.prototype._drawHourArc=function(){var t=this._model.getHourInDegree();this._hourArc.drawArc(t)},View.prototype._drawDateArc=function(){var t=this._model.getDateInDegree();this._dateArc.drawArc(t)},View.prototype._drawDayArc=function(){var t=this._model.getDayInDegree();this._dayArc.drawArc(t)},View.prototype._drawDiv=function(t,e,i){var n=$("<div>").css("height","14px").css("width",t+"%").css("background-color",e).css("margin","1px 0px").text(i).css("text-align","right").css("color","white").css("font-family","arial").css("padding-right","2px").css({overflow:"hidden","white-space":"nowrap"});return n},View.prototype._drawSecond=function(){var t=this._model.getSecondInMls();$("#drawS").empty();var e;e=t*(100/6e4);var i=this._drawDiv(e,"red",this._model._getSecond()+" s");$("#drawS").append(i)},View.prototype._drawMinute=function(){var t=this._model.getMinuteInMls();$("#drawM").empty();var e;e=t*(100/36e5);var i=this._drawDiv(e,"orange",this._model._getMinute()+" min");$("#drawM").append(i)},View.prototype._drawHour=function(){var t=this._model.getHourInS();$("#drawH").empty();var e;e=t*(100/86400);var i=this._drawDiv(e,"gold",this._model._getHour()+" h");$("#drawH").append(i)},View.prototype._drawMillisecondInTxt=function(){var t=this._model.getMillisecond();this._millisecond.innerHTML=t},View.prototype._drawSecondInTxt=function(){var t=this._model.getSecond();this._second.innerHTML=t},View.prototype._drawMinuteInTxt=function(){var t=this._model.getMinute();this._minute.innerHTML=10>t?"0"+t:t},View.prototype._drawHourInTxt=function(){var t=this._model.getHour();this._hour.innerHTML=10>t?"0"+t:t},Controller.prototype._bindActions=function(){};var model=new Model,view=new View(model),controller=new Controller(view,model);model.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50RW1pdHRlci5qcyIsIm1vZGVsLmpzIiwiYXJjLmpzIiwidmlldy5qcyIsImNvbnRyb2xsZXIuanMiLCJhcHAuanMiXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwidGhpcyIsImV2ZW50cyIsIk1vZGVsIiwiY2FsbCIsIl9taWxsaXNlY29uZHMiLCJfc2Vjb25kcyIsIl9taW51dGVzIiwiX2hvdXJzIiwiX2RhdGUiLCJfZGF5IiwiX21vbnRoIiwiX3llYXIiLCJBcmMiLCJvdXRlclJhZGl1cyIsImFyY1dpZHRoIiwiY29sb3IiLCJfY3R4IiwiaW5uZXJSYWRpdXMiLCJhcmNTdGFydEluRGVncmVlIiwiX2NvbG9yIiwiY29ybmVyU2l6ZSIsImN0eCIsIlZpZXciLCJtb2RlbCIsIl9tb2RlbCIsIiQiLCJnZXRDb250ZXh0IiwiX2VsZW1lbnRzIiwiX2dldEVsZW1lbnRzIiwiX2luaXQiLCJfYmluZEFjdGlvbnMiLCJDb250cm9sbGVyIiwidmlldyIsIl92aWV3IiwicHJvdG90eXBlIiwib24iLCJldmVudE5hbWUiLCJmbiIsInB1c2giLCJvZmYiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJlbWl0IiwiZGF0YSIsImZvckVhY2giLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInN0YXJ0IiwiaW5pdCIsIl90aWMiLCJfc2V0TWlsbGlzZWNvbmQiLCJfc2V0U2Vjb25kIiwiX3NldE1pbnV0ZSIsIl9zZXRIb3VyIiwiX3NldERhdGUiLCJfc2V0RGF5IiwiX3NldE1vbnRoIiwiX3NldFllYXIiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwiX2dldE1pbGxpc2Vjb25kIiwiX2dldFNlY29uZCIsIl9nZXRNaW51dGUiLCJfZ2V0SG91ciIsIl9nZXREYXRlIiwiX2dldERheSIsIl9nZXRNb250aCIsIl9nZXRZZWFyIiwiZ2V0U2Vjb25kSW5NbHMiLCJhY3R1YWxTIiwiYWN0dWFsTWxzIiwic0luTWxzIiwiZ2V0TWludXRlSW5NbHMiLCJhY3R1YWxNIiwibUluTWxzIiwiZ2V0TWludXRlSW5TIiwibUluUyIsImdldEhvdXJJblMiLCJhY3R1YWxIIiwiaEluUyIsImdldEhvdXJJbk1pbiIsImFjdHVhbE1pbiIsImhJbk1pbiIsImdldERhdGVJbk1pbiIsImFjdHVhbERhdGUiLCJkYXRlSW5NaW4iLCJnZXREYXlJbk1pbiIsImFjdHVhbERheSIsImRheUluTWluIiwiam91ciIsImdldFNlY29uZEluRGVncmVlIiwic2Vjb25kSW5EZWdyZWUiLCJnZXRNaW51dGVJbkRlZ3JlZSIsIm1pbnV0ZUluRGVncmVlIiwiZ2V0SG91ckluRGVncmVlIiwiaG91ckluRGVncmVlIiwiZ2V0RGF5c01heEluTW9udGgiLCJ5ZWFyIiwibW9udGgiLCJEYXRlIiwiZ2V0RGF0ZSIsImdldERhdGVJbkRlZ3JlZSIsImRheXNNYXgiLCJkYXRlSW5EZWdyZWUiLCJnZXREYXlJbkRlZ3JlZSIsImRheUluRGVncmVlIiwibmV3RGF0ZSIsImdldE1pbGxpc2Vjb25kcyIsImdldFNlY29uZHMiLCJnZXRNaW51dGVzIiwiZ2V0SG91cnMiLCJnZXREYXkiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZHJhd0FyYyIsInRpbWVJbkRlZ3JlZSIsImFyY0VuZEluRGVncmVlIiwib3V0ZXJDb3JuZXJYIiwiTWF0aCIsImNvcyIsIlBJIiwib3V0ZXJDb3JuZXJZIiwic2luIiwiaW5uZXJDb3JuZXJYIiwiaW5uZXJDb3JuZXJZIiwib3V0ZXJDb3JuZXJBcmNTdGFydCIsIm91dGVyQ29ybmVyQXJjRW5kIiwiaW5uZXJDb3JuZXJBcmNTdGFydCIsImlubmVyQ29ybmVyQXJjRW5kIiwic2F2ZSIsImJlZ2luUGF0aCIsImFyYyIsImNsb3NlUGF0aCIsImZpbGxTdHlsZSIsImZpbGwiLCJyZXN0b3JlIiwiX3JlZHJhdyIsImVsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIl9kcmF3U2Vjb25kIiwiX2RyYXdNaW51dGUiLCJfZHJhd0hvdXIiLCJjYW52YXNSZWZyZXNoIiwiX2RyYXdTZWNvbmRBcmMiLCJfZHJhd01pbnV0ZUFyYyIsIl9kcmF3SG91ckFyYyIsIl9kcmF3RGF0ZUFyYyIsIl9kcmF3RGF5QXJjIiwiX3NlY29uZEFyYyIsIl9taW51dGVBcmMiLCJfaG91ckFyYyIsIl9kYXRlQXJjIiwiX2RheUFyYyIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwidHJhbnNsYXRlIiwicm90YXRlIiwiX2RyYXdEaXYiLCJkaXZXaWR0aCIsInRpbWUiLCJkaXYiLCJjc3MiLCJ0ZXh0Iiwib3ZlcmZsb3ciLCJ3aGl0ZS1zcGFjZSIsInNlY29uZCIsImVtcHR5IiwiYXBwZW5kIiwibWludXRlIiwiaG91ciIsIl9kcmF3TWlsbGlzZWNvbmRJblR4dCIsIm1pbGxpc2Vjb25kIiwiZ2V0TWlsbGlzZWNvbmQiLCJfbWlsbGlzZWNvbmQiLCJpbm5lckhUTUwiLCJfZHJhd1NlY29uZEluVHh0IiwiZ2V0U2Vjb25kIiwiX3NlY29uZCIsIl9kcmF3TWludXRlSW5UeHQiLCJnZXRNaW51dGUiLCJfbWludXRlIiwiX2RyYXdIb3VySW5UeHQiLCJnZXRIb3VyIiwiX2hvdXIiLCJjb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQUFDQSxRQUFBQSxnQkFDQUMsS0FBQUMsVUNGQSxRQUFBQyxTQUNBSCxhQUFBSSxLQUFBSCxNQUVBQSxLQUFBSSxjQUFBLEVBQ0FKLEtBQUFLLFNBQUEsRUFDQUwsS0FBQU0sU0FBQSxFQUNBTixLQUFBTyxPQUFBLEVBQ0FQLEtBQUFRLE1BQUEsRUFDQVIsS0FBQVMsS0FBQSxFQUNBVCxLQUFBVSxPQUFBLEVBQ0FWLEtBQUFXLE1BQUEsRUNUQSxRQUFBQyxLQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBaEIsS0FBQWEsWUFBQUEsRUFDQWIsS0FBQWMsU0FBQUEsRUFDQWQsS0FBQWlCLFlBQUFqQixLQUFBYSxZQUFBYixLQUFBYyxTQUNBZCxLQUFBa0IsaUJBQUEsRUFDQWxCLEtBQUFtQixPQUFBSixF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InNvdXJjZXNDb250ZW50IjpbIi8vIGV2ZW50RW1pdHRlci5qc1xyXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtcclxuICB0aGlzLmV2ZW50cyA9IHt9OyAvLyBhc3NvY2lhdGl2ZSBhcnJheSA6IGV2ZW50ID0+IGZ1bmN0aW9ucyB0byBjYWxsXHJcbn1cclxuXHJcbi8vIEFkZCBhIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBmbil7XHJcbiAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XHJcbiAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGZuKTtcclxufTtcclxuXHJcbi8vIFJlbW92ZSBhIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZm4pe1xyXG4gIGlmKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pe1xyXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmluZGV4T2YoZm4pO1xyXG4gICAgICBpZiAoaW5kZXggPiAtMSkgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFRyaWdnZXIgdGhlIGV2ZW50IChjYWxsIGFsbCB0aGUgZnVuY3Rpb25zIGxpbmtlZClcclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBkYXRhKXtcclxuICBpZih0aGlzLmV2ZW50c1tldmVudE5hbWVdKXtcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uZm9yRWFjaChmdW5jdGlvbihmbil7XHJcbiAgICAgIGZuKGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iLCJmdW5jdGlvbiBNb2RlbCgpIHtcbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTsgLy8gQ2FsbCBFdmVudEVtaXR0ZXIgY29uc3RydWN0b3JcbiAgICAvLyBNb2RlbCBJbml0aWFsaXNhdGlvblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IDA7XG4gICAgdGhpcy5fc2Vjb25kcyA9IDA7XG4gICAgdGhpcy5fbWludXRlcyA9IDA7XG4gICAgdGhpcy5faG91cnMgPSAwO1xuICAgIHRoaXMuX2RhdGUgPSAwO1xuICAgIHRoaXMuX2RheSA9IDA7XG4gICAgdGhpcy5fbW9udGggPSAwO1xuICAgIHRoaXMuX3llYXIgPSAwO1xufVxuXG4vLyBFdmVudEVtaXR0ZXIgaW5oZXJpdGFuY2Vcbk1vZGVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5Nb2RlbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNb2RlbDtcblxuLy8gU3RhcnQgdGhlIGNsb2NrXG5Nb2RlbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLl90aWMoKTtcbn07XG5cbi8vIEluaXRcbk1vZGVsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fc2V0TWlsbGlzZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRTZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRNaW51dGUoKTtcbiAgICB0aGlzLl9zZXRIb3VyKCk7XG4gICAgdGhpcy5fc2V0RGF0ZSgpO1xuICAgIHRoaXMuX3NldERheSgpO1xuICAgIHRoaXMuX3NldE1vbnRoKCk7XG4gICAgdGhpcy5fc2V0WWVhcigpO1xufTtcblxuLy8gVGljLi4uXG5Nb2RlbC5wcm90b3R5cGUuX3RpYyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZW1pdCgndGljJyk7XG4gICAgdGhpcy5fc2V0TWlsbGlzZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRTZWNvbmQoKTtcbiAgICB0aGlzLl9zZXRNaW51dGUoKTtcbiAgICB0aGlzLl9zZXRIb3VyKCk7XG4gICAgdGhpcy5fc2V0RGF0ZSgpO1xuICAgIHRoaXMuX3NldERheSgpO1xuICAgIHRoaXMuX3NldE1vbnRoKCk7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWMuYmluZCh0aGlzKSk7XG59O1xuXG5cbi8vLy8gR0VUIFRJTUUgSU4gSVRTIE9XTiBWQUxMVUUgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbk1vZGVsLnByb3RvdHlwZS5fZ2V0TWlsbGlzZWNvbmQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9nZXRTZWNvbmQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2Vjb25kcztcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fZ2V0TWludXRlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21pbnV0ZXM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX2dldEhvdXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faG91cnM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX2dldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0ZTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fZ2V0RGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RheTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fZ2V0TW9udGggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbW9udGg7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuX2dldFllYXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5feWVhcjtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLy8vLyBHRVQgVElNRSBJTiBPU0VSIFZBTExVRVMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuTW9kZWwucHJvdG90eXBlLmdldFNlY29uZEluTWxzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFjdHVhbFMgPSB0aGlzLl9zZWNvbmRzO1xuICAgIHZhciBhY3R1YWxNbHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgdmFyIHNJbk1scyA9ICAoYWN0dWFsUyAqIDEwMDApICsgYWN0dWFsTWxzO1xuICAgIHJldHVybiBzSW5NbHM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0TWludXRlSW5NbHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc0luTWxzID0gdGhpcy5nZXRTZWNvbmRJbk1scygpO1xuICAgIHZhciBhY3R1YWxNID0gdGhpcy5fbWludXRlcztcbiAgICB2YXIgbUluTWxzID0gIChhY3R1YWxNICogNjAgKiAxMDAwKSArIHNJbk1scztcbiAgICByZXR1cm4gbUluTWxzO1xufTtcblxuTW9kZWwucHJvdG90eXBlLmdldE1pbnV0ZUluUyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3R1YWxTID0gdGhpcy5fc2Vjb25kcztcbiAgICB2YXIgYWN0dWFsTSA9IHRoaXMuX21pbnV0ZXM7XG4gICAgdmFyIG1JblMgPSAoYWN0dWFsTSAqIDYwKSArIGFjdHVhbFM7XG4gICAgcmV0dXJuIG1JblM7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0SG91ckluUyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtSW5TID0gdGhpcy5nZXRNaW51dGVJblMoKTtcbiAgICB2YXIgYWN0dWFsSCA9IHRoaXMuX2hvdXJzO1xuICAgIHZhciBoSW5TID0gKGFjdHVhbEggICogNjAgKiA2MCkgKyBtSW5TO1xuICAgIHJldHVybiBoSW5TO1xufTtcblxuTW9kZWwucHJvdG90eXBlLmdldEhvdXJJbk1pbiA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGFjdHVhbE1pbiA9IHRoaXMuX21pbnV0ZXM7XG4gICAgdmFyIGFjdHVhbEggPSB0aGlzLl9ob3VycztcbiAgICB2YXIgaEluTWluID0gKGFjdHVhbEggKiA2MCkgKyBhY3R1YWxNaW47XG4gICAgcmV0dXJuIGhJbk1pbjtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5nZXREYXRlSW5NaW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaEluTWluID0gdGhpcy5nZXRIb3VySW5NaW4oKTtcbiAgICB2YXIgYWN0dWFsRGF0ZSA9IHRoaXMuX2RhdGU7XG4gICAgLy8gYSBkYXkgaGFzIDI0IGhvdXJzIHNvIGlmIHdlIGFyZSB0aGUgMXN0IHRoZSBkYXkgaXMgYWN0dWFsbHkgcGFzc2luZyBmcm9tIDAgdG8gMjRoXG4gICAgdmFyIGRhdGVJbk1pbiA9ICgoYWN0dWFsRGF0ZSAtIDEpICogMjQgKiA2MCkgKyBoSW5NaW47XG4gICAgcmV0dXJuIGRhdGVJbk1pbjtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5nZXREYXlJbk1pbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoSW5NaW4gPSB0aGlzLmdldEhvdXJJbk1pbigpO1xuICAgIHZhciBhY3R1YWxEYXkgPSB0aGlzLl9kYXk7XG4gICAgLy8gYSBkYXkgaGFzIDI0IGhvdXJzIHNvIGlmIHdlIGFyZSB0aGUgMXN0IHRoZSBkYXkgaXMgYWN0dWFsbHkgcGFzc2luZyBmcm9tIDAgdG8gMjRoXG4gICAgdmFyIGRheUluTWluID0gKChhY3R1YWxEYXkgPiAwID8gYWN0dWFsRGF5IC09IDEgOiBqb3VyID0gNikgKiAyNCAqIDYwKSArIGhJbk1pbjtcbiAgICByZXR1cm4gZGF5SW5NaW47XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vLy8gR0VUIFRJTUUgSU4gREVHUkVFIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbk1vZGVsLnByb3RvdHlwZS5nZXRTZWNvbmRJbkRlZ3JlZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWN0dWFsUyA9IHRoaXMuZ2V0U2Vjb25kSW5NbHMoKTtcbiAgICB2YXIgc2Vjb25kSW5EZWdyZWUgPSBhY3R1YWxTICogKDM2MCAvICg2MCAqIDEwMDApKTtcbiAgICByZXR1cm4gc2Vjb25kSW5EZWdyZWU7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0TWludXRlSW5EZWdyZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjdHVhbE0gPSB0aGlzLmdldE1pbnV0ZUluTWxzKCk7XG4gICAgdmFyIG1pbnV0ZUluRGVncmVlID0gYWN0dWFsTSAqICgzNjAgLyAoNjAgKiA2MCAqIDEwMDApKTtcbiAgICByZXR1cm4gbWludXRlSW5EZWdyZWU7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0SG91ckluRGVncmVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3R1YWxIID0gdGhpcy5nZXRIb3VySW5TKCk7XG4gICAgdmFyIGhvdXJJbkRlZ3JlZSA9IGFjdHVhbEggKiAoMzYwIC8gKDI0ICogNjAgKiA2MCkpO1xuICAgIHJldHVybiBob3VySW5EZWdyZWU7XG59O1xuLy8gR2V0IGhvdyBtYW55IGRheXMgaW4gdGhlIGFjdHVhbCBtb250aFxuTW9kZWwucHJvdG90eXBlLmdldERheXNNYXhJbk1vbnRoID0gZnVuY3Rpb24gKHllYXIsIG1vbnRoKSB7XG4gICAgLy8gd2hlbiBEYXRlIGlzIGNyZWF0ZWQsIGdpdmUgaXQgcGFyYW1ldGVycyB0byBnZXQgdGhlIGRhdGUgeW91IHdhbnRcbiAgICAvLyBIZXJlIHdlIG5lZWQgdG8ga25vdyBob3cgbWFueSBkYXlzIHRoZXJlIGFyZSBpbiB0aGUgY3VycmVudCBtb250aFxuICAgIC8vIFNvIHdlIGdpdmUgdG8gbmV3IERhdGUgdGhlIGN1cnJlbnQgeWVhcixcbiAgICAvLyB0aGUgY3VycmVudCBtb250aCsxID0gbmV4dCBtb250aCwgd2l0aCB0aGUgM3JkIHBhcmFtZXRlciB0aGF0IGlzIDAgZm9yIGRheSAwXG4gICAgLy8gRm9yIGV4YW1wbGUgOiAoMjAxNiAsIDIgKyAxICwgMCkgPT4gMjAxNiAzKEFwcmlsKSAwID0gMjAxNiAyKE1hcmNoKSAzMShsYXN0IGRheSlcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggKyAxLCAwKS5nZXREYXRlKCk7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0RGF0ZUluRGVncmVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3R1YWxEYXRlID0gdGhpcy5nZXREYXRlSW5NaW4oKTtcbiAgICAvLyBIb3cgbWFueSBkYXlzIGluIHRoZSBhY3R1YWwgbW9udGhcbiAgICB2YXIgZGF5c01heCA9IHRoaXMuZ2V0RGF5c01heEluTW9udGgodGhpcy5fZ2V0WWVhcigpLHRoaXMuX2dldE1vbnRoKCkpO1xuICAgIHZhciBkYXRlSW5EZWdyZWUgPSBhY3R1YWxEYXRlICogKDM2MCAvIChkYXlzTWF4ICogMjQgKiA2MCkpO1xuICAgIHJldHVybiBkYXRlSW5EZWdyZWU7XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZ2V0RGF5SW5EZWdyZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjdHVhbERheSA9IHRoaXMuZ2V0RGF5SW5NaW4oKTtcbiAgICB2YXIgZGF5SW5EZWdyZWUgPSBhY3R1YWxEYXkgKiAoMzYwIC8gKDcgKiAyNCAqIDYwKSk7XG4gICAgcmV0dXJuIGRheUluRGVncmVlO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vLy8vIFNFVFRJTkcgVElNRSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5Nb2RlbC5wcm90b3R5cGUuX3NldE1pbGxpc2Vjb25kID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG5ld0RhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgdGhpcy5lbWl0KCdtc0NoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXRTZWNvbmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fc2Vjb25kcyA9IG5ld0RhdGUuZ2V0U2Vjb25kcygpO1xuICAgIHRoaXMuZW1pdCgnc0NoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXRNaW51dGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fbWludXRlcyA9IG5ld0RhdGUuZ2V0TWludXRlcygpO1xuICAgIHRoaXMuZW1pdCgnbUNoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXRIb3VyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX2hvdXJzID0gbmV3RGF0ZS5nZXRIb3VycygpO1xuICAgIHRoaXMuZW1pdCgnaENoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXREYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX2RhdGUgPSBuZXdEYXRlLmdldERhdGUoKTtcbiAgICB0aGlzLmVtaXQoJ2RhdGVDaGFuZ2UnKTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fc2V0RGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX2RheSA9IG5ld0RhdGUuZ2V0RGF5KCk7XG4gICAgdGhpcy5lbWl0KCdkYXlDaGFuZ2UnKTtcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5fc2V0TW9udGggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fbW9udGggPSBuZXdEYXRlLmdldE1vbnRoKCk7XG4gICAgdGhpcy5lbWl0KCdtb250aENoYW5nZScpO1xufTtcblxuTW9kZWwucHJvdG90eXBlLl9zZXRZZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX3llYXIgPSBuZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgdGhpcy5lbWl0KCd5ZWFyQ2hhbmdlJyk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuIiwiLy8gYXJjLmpzXG5mdW5jdGlvbiBBcmMob3V0ZXJSYWRpdXMsYXJjV2lkdGgsY29sb3IsX2N0eCl7XG4gICAgLy8gQXJjIHByb3BlcnRpZXNcbiAgICB0aGlzLm91dGVyUmFkaXVzID0gb3V0ZXJSYWRpdXM7XG4gICAgdGhpcy5hcmNXaWR0aCA9IGFyY1dpZHRoO1xuICAgIHRoaXMuaW5uZXJSYWRpdXMgPSB0aGlzLm91dGVyUmFkaXVzIC0gdGhpcy5hcmNXaWR0aDtcbiAgICB0aGlzLmFyY1N0YXJ0SW5EZWdyZWUgPSAwO1xuICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgLy8gUm91bmRlZCBjb3JuZXJzIHByb3BlcnRpZXNcbiAgICB0aGlzLmNvcm5lclNpemUgPSAzO1xuICAgIHRoaXMuY3R4ID0gX2N0eDtcbn1cblxuQXJjLnByb3RvdHlwZS5kcmF3QXJjID0gZnVuY3Rpb24gKHRpbWVJbkRlZ3JlZSl7XG4gICAgLy90aGlzLmN0eCA9IGN0eDtcbiAgICB0aGlzLmFyY0VuZEluRGVncmVlID0gdGltZUluRGVncmVlO1xuICAgIHRoaXMub3V0ZXJDb3JuZXJYID0gKHRoaXMub3V0ZXJSYWRpdXMgLSB0aGlzLmNvcm5lclNpemUpICogKE1hdGguY29zKCh0aGlzLmFyY0VuZEluRGVncmVlKSAqIChNYXRoLlBJIC8gMTgwKSkpO1xuICAgIHRoaXMub3V0ZXJDb3JuZXJZID0gKHRoaXMub3V0ZXJSYWRpdXMgLSB0aGlzLmNvcm5lclNpemUpICogKE1hdGguc2luKCh0aGlzLmFyY0VuZEluRGVncmVlKSAqIChNYXRoLlBJIC8gMTgwKSkpO1xuICAgIHRoaXMuaW5uZXJDb3JuZXJYID0gKHRoaXMuaW5uZXJSYWRpdXMgKyB0aGlzLmNvcm5lclNpemUpICogKE1hdGguY29zKCh0aGlzLmFyY0VuZEluRGVncmVlKSAqIChNYXRoLlBJIC8gMTgwKSkpO1xuICAgIHRoaXMuaW5uZXJDb3JuZXJZID0gKHRoaXMuaW5uZXJSYWRpdXMgKyB0aGlzLmNvcm5lclNpemUpICogKE1hdGguc2luKCh0aGlzLmFyY0VuZEluRGVncmVlKSAqIChNYXRoLlBJIC8gMTgwKSkpO1xuICAgIHRoaXMub3V0ZXJDb3JuZXJBcmNTdGFydCA9ICgwICsgdGhpcy5hcmNFbmRJbkRlZ3JlZSkgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgdGhpcy5vdXRlckNvcm5lckFyY0VuZCA9ICg5MCArIHRoaXMuYXJjRW5kSW5EZWdyZWUpICogKE1hdGguUEkgLyAxODApO1xuICAgIHRoaXMuaW5uZXJDb3JuZXJBcmNTdGFydCA9ICg5MCArIHRoaXMuYXJjRW5kSW5EZWdyZWUpICogKE1hdGguUEkgLyAxODApO1xuICAgIHRoaXMuaW5uZXJDb3JuZXJBcmNFbmQgPSAoMTgwICsgdGhpcy5hcmNFbmRJbkRlZ3JlZSkgKiAoTWF0aC5QSSAvIDE4MCk7XG5cbiAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIC8vU3RhcnQgaW5uZXIgcm91bmRlZCBjb3JuZXJcbiAgICB0aGlzLmN0eC5hcmModGhpcy5pbm5lclJhZGl1cyArIHRoaXMuY29ybmVyU2l6ZSwgMCwgdGhpcy5jb3JuZXJTaXplLCAxODAgKiAoTWF0aC5QSSAvIDE4MCksIDI3MCAqIChNYXRoLlBJIC8gMTgwKSwgZmFsc2UpO1xuICAgIC8vU3RhcnQgb3V0ZXIgcm91bmRlZCBjb3JuZXJcbiAgICB0aGlzLmN0eC5hcmModGhpcy5vdXRlclJhZGl1cyAtIHRoaXMuY29ybmVyU2l6ZSwgMCwgdGhpcy5jb3JuZXJTaXplLCAyNzAgKiAoTWF0aC5QSSAvIDE4MCksIDAgKiAoTWF0aC5QSSAvIDE4MCksIGZhbHNlKTtcbiAgICAvL091dGVyIGFyY1xuICAgIHRoaXMuY3R4LmFyYygwLCAwLCB0aGlzLm91dGVyUmFkaXVzLCAodGhpcy5hcmNTdGFydEluRGVncmVlICogKE1hdGguUEkgLyAxODApKSwgKHRoaXMuYXJjRW5kSW5EZWdyZWUgKiAoTWF0aC5QSSAvIDE4MCkpLCBmYWxzZSk7XG4gICAgLy9FeHRyaW1pdHkgb3V0ZXIgcm91bmRlZCBjb3JuZXJcbiAgICB0aGlzLmN0eC5hcmModGhpcy5vdXRlckNvcm5lclgsIHRoaXMub3V0ZXJDb3JuZXJZLCB0aGlzLmNvcm5lclNpemUsIHRoaXMub3V0ZXJDb3JuZXJBcmNTdGFydCwgdGhpcy5vdXRlckNvcm5lckFyY0VuZCwgZmFsc2UpO1xuICAgIC8vRXh0cmltaXR5IGlubmVyIHJvdW5kZWQgY29ybmVyXG4gICAgdGhpcy5jdHguYXJjKHRoaXMuaW5uZXJDb3JuZXJYLCB0aGlzLmlubmVyQ29ybmVyWSwgdGhpcy5jb3JuZXJTaXplLCB0aGlzLmlubmVyQ29ybmVyQXJjU3RhcnQsIHRoaXMuaW5uZXJDb3JuZXJBcmNFbmQsIGZhbHNlKTtcbiAgICAvL0lubmVyIGFyY1xuICAgIHRoaXMuY3R4LmFyYygwLCAwLCB0aGlzLmlubmVyUmFkaXVzLCAodGhpcy5hcmNFbmRJbkRlZ3JlZSAqIChNYXRoLlBJIC8gMTgwKSksICh0aGlzLmFyY1N0YXJ0SW5EZWdyZWUgKiAoTWF0aC5QSSAvIDE4MCkpLCB0cnVlKTtcbiAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcjtcbiAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuXG59O1xuIiwiZnVuY3Rpb24gVmlldyhtb2RlbCkge1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5jdHggPSAkKCcjY2FudmFzJylbMF0uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAvLyBBbGwgdGhlIERPTSBlbGVtZW50cyB0byBnZXRcbiAgICB0aGlzLl9lbGVtZW50cyA9IFsnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJywgJ21pbGxpc2Vjb25kJ107XG4gICAgdGhpcy5fZ2V0RWxlbWVudHMoKTtcbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5fYmluZEFjdGlvbnMoKTtcblxufVxuXG5WaWV3LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZpZXc7XG5cblZpZXcucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fcmVkcmF3KCk7XG59O1xuXG4vLyBHZXQgYWxsIHRoZSBET00gZWxlbWVudHMgYW5kIGJpbmQgZW1pdFxuLy8gQmFzaWNhbGx5LCBpdCB0cmFuc2Zvcm1zIERPTSBldmVudCBpbnRvIFZpZXcgZXZlbnRcblZpZXcucHJvdG90eXBlLl9nZXRFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWwpIHsgLy8gWydob3VyJywgLi4uIF1cbiAgICAgICAgdGhpc1snXycgKyBlbF0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCk7IC8vIGV4OiB0aGlzLl9ob3VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvdXInKTtcbiAgICB9LCB0aGlzKTtcbn07XG5cbi8vIFdoYXQgbXVzdCBJIGRvIHdoZW4gbW9kZWwgY2hhbmdlcz9cblZpZXcucHJvdG90eXBlLl9iaW5kQWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5fbW9kZWwub24oJ3NDaGFuZ2UnLCB0aGlzLl9kcmF3U2Vjb25kLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX21vZGVsLm9uKCdtQ2hhbmdlJywgdGhpcy5fZHJhd01pbnV0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9tb2RlbC5vbignaENoYW5nZScsIHRoaXMuX2RyYXdIb3VyLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5fbW9kZWwub24oJ3RpYycsIHRoaXMuY2FudmFzUmVmcmVzaC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9tb2RlbC5vbignc0NoYW5nZScsIHRoaXMuX2RyYXdTZWNvbmRBcmMuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fbW9kZWwub24oJ21DaGFuZ2UnLCB0aGlzLl9kcmF3TWludXRlQXJjLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX21vZGVsLm9uKCdoQ2hhbmdlJywgdGhpcy5fZHJhd0hvdXJBcmMuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fbW9kZWwub24oJ2RhdGVDaGFuZ2UnLCB0aGlzLl9kcmF3RGF0ZUFyYy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9tb2RlbC5vbignZGF5Q2hhbmdlJywgdGhpcy5fZHJhd0RheUFyYy5iaW5kKHRoaXMpKTtcbn07XG5cbi8vIFJlZHJhdyB0aGUgY2xvY2tcblZpZXcucHJvdG90eXBlLl9yZWRyYXcgPSBmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuX2RyYXdTZWNvbmQoKTtcbiAgICB0aGlzLl9kcmF3TWludXRlKCk7XG4gICAgdGhpcy5fZHJhd0hvdXIoKTtcblxuICAgIHRoaXMuX3NlY29uZEFyYyA9IG5ldyBBcmMoMjQwLCAyNSwgJ3JlZCcsIHRoaXMuY3R4KTtcbiAgICB0aGlzLl9taW51dGVBcmMgPSBuZXcgQXJjKDIxMCwgMjUsICdvcmFuZ2UnLCB0aGlzLmN0eCk7XG4gICAgdGhpcy5faG91ckFyYyA9IG5ldyBBcmMoMTgwLCAyNSwgJ2dvbGQnLCB0aGlzLmN0eCk7XG4gICAgdGhpcy5fZGF0ZUFyYyA9IG5ldyBBcmMoMTUwLCAyNSwgJ3B1cnBsZScsIHRoaXMuY3R4KTtcbiAgICB0aGlzLl9kYXlBcmMgPSBuZXcgQXJjKDEyMCwgMjUsICdmdWNoc2lhJywgdGhpcy5jdHgpO1xuICAgIHRoaXMuY2FudmFzUmVmcmVzaCgpO1xuICAgIHRoaXMuX2RyYXdTZWNvbmRBcmMoKTtcbiAgICB0aGlzLl9kcmF3TWludXRlQXJjKCk7XG4gICAgdGhpcy5fZHJhd0hvdXJBcmMoKTtcbiAgICB0aGlzLl9kcmF3RGF0ZUFyYygpO1xuICAgIHRoaXMuX2RyYXdEYXlBcmMoKTtcbn07XG5cbi8vLy8gRFJBVyBUSU1FIEFTIEFSQyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblZpZXcucHJvdG90eXBlLmNhbnZhc1JlZnJlc2ggPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5jdHgudHJhbnNsYXRlKDI1MCwgMjUwKTtcbiAgICB0aGlzLmN0eC5yb3RhdGUoLTkwICogTWF0aC5QSSAvIDE4MCk7XG59O1xuXG5WaWV3LnByb3RvdHlwZS5fZHJhd1NlY29uZEFyYyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWNvbmRJbkRlZ3JlZSA9IHRoaXMuX21vZGVsLmdldFNlY29uZEluRGVncmVlKCk7XG4gICAgdGhpcy5fc2Vjb25kQXJjLmRyYXdBcmMoc2Vjb25kSW5EZWdyZWUpO1xufTtcblxuVmlldy5wcm90b3R5cGUuX2RyYXdNaW51dGVBcmMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWludXRlSW5EZWdyZWUgPSB0aGlzLl9tb2RlbC5nZXRNaW51dGVJbkRlZ3JlZSgpO1xuICAgIHRoaXMuX21pbnV0ZUFyYy5kcmF3QXJjKG1pbnV0ZUluRGVncmVlKTtcbn07XG5cblZpZXcucHJvdG90eXBlLl9kcmF3SG91ckFyYyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBob3VySW5EZWdyZWUgPSB0aGlzLl9tb2RlbC5nZXRIb3VySW5EZWdyZWUoKTtcbiAgICB0aGlzLl9ob3VyQXJjLmRyYXdBcmMoaG91ckluRGVncmVlKTtcbn07XG5cblZpZXcucHJvdG90eXBlLl9kcmF3RGF0ZUFyYyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRlSW5EZWdyZWUgPSB0aGlzLl9tb2RlbC5nZXREYXRlSW5EZWdyZWUoKTtcbiAgICB0aGlzLl9kYXRlQXJjLmRyYXdBcmMoZGF0ZUluRGVncmVlKTtcbn07XG5cblZpZXcucHJvdG90eXBlLl9kcmF3RGF5QXJjID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRheUluRGVncmVlID0gdGhpcy5fbW9kZWwuZ2V0RGF5SW5EZWdyZWUoKTtcbiAgICB0aGlzLl9kYXlBcmMuZHJhd0FyYyhkYXlJbkRlZ3JlZSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vLy8gRFJBVyBUSU1FIEFTIERJViAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gaG93IHRvIGRyYXcgdGhlIGRpdlxuVmlldy5wcm90b3R5cGUuX2RyYXdEaXYgPSBmdW5jdGlvbihkaXZXaWR0aCwgY29sb3IsIHRpbWUpIHtcbiAgICB2YXIgZGl2ID0gJCgnPGRpdj4nKS5jc3MoJ2hlaWdodCcsICcxNHB4JykuY3NzKCd3aWR0aCcsIGRpdldpZHRoICsgJyUnKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBjb2xvcikuY3NzKCdtYXJnaW4nLCAnMXB4IDBweCcpXG4gICAgICAgIC50ZXh0KHRpbWUpLmNzcygndGV4dC1hbGlnbicsICdyaWdodCcpLmNzcygnY29sb3InLCAnd2hpdGUnKS5jc3MoJ2ZvbnQtZmFtaWx5JywgJ2FyaWFsJykuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJzJweCcpXG4gICAgICAgIC5jc3MoeydvdmVyZmxvdyc6J2hpZGRlbicgLCAnd2hpdGUtc3BhY2UnOidub3dyYXAnfSk7XG4gICAgcmV0dXJuIGRpdjtcbn07XG5cblZpZXcucHJvdG90eXBlLl9kcmF3U2Vjb25kID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlY29uZCA9IHRoaXMuX21vZGVsLmdldFNlY29uZEluTWxzKCk7XG4gICAgJCgnI2RyYXdTJykuZW1wdHkoKTtcbiAgICB2YXIgZGl2V2lkdGg7XG4gICAgZGl2V2lkdGggPSBzZWNvbmQgKiAoMTAwIC8gKDYwICogMTAwMCkpO1xuICAgIHZhciBkaXYgPSB0aGlzLl9kcmF3RGl2KGRpdldpZHRoLCAncmVkJywgKHRoaXMuX21vZGVsLl9nZXRTZWNvbmQoKSkgKyAnIHMnKTtcbiAgICAkKCcjZHJhd1MnKS5hcHBlbmQoZGl2KTtcbn07XG5cblZpZXcucHJvdG90eXBlLl9kcmF3TWludXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1pbnV0ZSA9IHRoaXMuX21vZGVsLmdldE1pbnV0ZUluTWxzKCk7XG4gICAgJCgnI2RyYXdNJykuZW1wdHkoKTtcbiAgICB2YXIgZGl2V2lkdGg7XG4gICAgZGl2V2lkdGggPSBtaW51dGUgKiAoMTAwIC8gKDYwICogNjAgKiAxMDAwKSk7XG4gICAgdmFyIGRpdiA9IHRoaXMuX2RyYXdEaXYoZGl2V2lkdGgsICdvcmFuZ2UnLCAodGhpcy5fbW9kZWwuX2dldE1pbnV0ZSgpKSArICcgbWluJyk7XG4gICAgJCgnI2RyYXdNJykuYXBwZW5kKGRpdik7XG59O1xuXG5WaWV3LnByb3RvdHlwZS5fZHJhd0hvdXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaG91ciA9IHRoaXMuX21vZGVsLmdldEhvdXJJblMoKTtcbiAgICAkKCcjZHJhd0gnKS5lbXB0eSgpO1xuICAgIHZhciBkaXZXaWR0aDtcbiAgICBkaXZXaWR0aCA9IGhvdXIgKiAoMTAwIC8gKDI0ICogNjAgKiA2MCApKTtcbiAgICB2YXIgZGl2ID0gdGhpcy5fZHJhd0RpdihkaXZXaWR0aCwgJ2dvbGQnLCAodGhpcy5fbW9kZWwuX2dldEhvdXIoKSkgKyAnIGgnKTtcbiAgICAkKCcjZHJhd0gnKS5hcHBlbmQoZGl2KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLy8vLyBEUkFXIFRJTUUgQVMgVEVYVCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBTZXQgbWlsbGlzc2Vjb25kIHRvIG1vZGVsIHZhbHVlXG5WaWV3LnByb3RvdHlwZS5fZHJhd01pbGxpc2Vjb25kSW5UeHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmQgPSB0aGlzLl9tb2RlbC5nZXRNaWxsaXNlY29uZCgpO1xuICAgIHRoaXMuX21pbGxpc2Vjb25kLmlubmVySFRNTCA9IG1pbGxpc2Vjb25kO1xufTtcblxuLy8gU2V0IHNlY29uZCB0byBtb2RlbCB2YWx1ZVxuVmlldy5wcm90b3R5cGUuX2RyYXdTZWNvbmRJblR4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWNvbmQgPSB0aGlzLl9tb2RlbC5nZXRTZWNvbmQoKTtcbiAgICB0aGlzLl9zZWNvbmQuaW5uZXJIVE1MID0gc2Vjb25kO1xufTtcblxuLy8gU2V0IG1pbnV0ZSB0byBtb2RlbCB2YWx1ZVxuVmlldy5wcm90b3R5cGUuX2RyYXdNaW51dGVJblR4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtaW51dGUgPSB0aGlzLl9tb2RlbC5nZXRNaW51dGUoKTtcbiAgICB0aGlzLl9taW51dGUuaW5uZXJIVE1MID0gbWludXRlIDwgMTAgPyAnMCcgKyBtaW51dGUgOiBtaW51dGU7XG59O1xuXG4vLyBTZXQgaG91ciB0byBtb2RlbCB2YWx1ZVxuVmlldy5wcm90b3R5cGUuX2RyYXdIb3VySW5UeHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaG91ciA9IHRoaXMuX21vZGVsLmdldEhvdXIoKTtcbiAgICB0aGlzLl9ob3VyLmlubmVySFRNTCA9IGhvdXIgPCAxMCA/ICcwJyArIGhvdXIgOiBob3VyO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiIsImZ1bmN0aW9uIENvbnRyb2xsZXIodmlldywgbW9kZWwpIHtcclxuICAgIHRoaXMuX3ZpZXcgPSB2aWV3O1xyXG4gICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcclxuICAgIHRoaXMuX2JpbmRBY3Rpb25zKCk7XHJcbn1cclxuXHJcbi8vIFdoYXQgdG8gZG8gd2hlbiB0aGUgdmlldyB0cmlnZ2VycyBhbiBldmVudD9cclxuQ29udHJvbGxlci5wcm90b3R5cGUuX2JpbmRBY3Rpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyB0aGlzLl92aWV3Lm9uKCdoUGx1cycsIHRoaXMuX2FkZEhvdXIuYmluZCh0aGlzKSk7XHJcbiAgICAvLyB0aGlzLl92aWV3Lm9uKCdtUGx1cycsIHRoaXMuX2FkZE1pbnV0ZS5iaW5kKHRoaXMpKTtcclxuICAgIC8vIHRoaXMuX3ZpZXcub24oJ3NQbHVzJywgdGhpcy5fYWRkU2Vjb25kLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuXHJcbi8vIENvbnRyb2xsZXIucHJvdG90eXBlLl9hZGRIb3VyID0gZnVuY3Rpb24oKXtcclxuLy8gICB0aGlzLl9tb2RlbC5hZGRIb3VyKCk7XHJcbi8vIH07XHJcbi8vIENvbnRyb2xsZXIucHJvdG90eXBlLl9hZGRNaW51dGUgPSBmdW5jdGlvbigpe1xyXG4vLyAgIHRoaXMuX21vZGVsLmFkZE1pbnV0ZSgpO1xyXG4vLyB9O1xyXG4vLyBDb250cm9sbGVyLnByb3RvdHlwZS5fYWRkU2Vjb25kID0gZnVuY3Rpb24oKXtcclxuLy8gICB0aGlzLl9tb2RlbC5hZGRTZWNvbmQoKTtcclxuLy8gfTtcclxuIiwidmFyIG1vZGVsID0gbmV3IE1vZGVsKCk7XHJcbnZhciB2aWV3ID0gbmV3IFZpZXcobW9kZWwpO1xyXG52YXIgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKHZpZXcsIG1vZGVsKTtcclxuXHJcbm1vZGVsLnN0YXJ0KCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
